<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat May 27 09:46:33 UTC 2023

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-4823] CXF - Rampart  interoperability issue: order of signature and encrypted key elements in XML </title>
                <link>https://issues.apache.org/jira/browse/CXF-4823</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;We have a CXF web service secured with WS-Security. The problem is that Axis2 client which uses Rampart module cannot handle response generated by CXF. Rampart  expects that xenc:EncryptedKey goes first, and ds:Signature is next. CXF puts elements in the opposite order. The workaround is&lt;br/&gt;
to re-order actions in Axis2 config file:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;parameter name=&lt;span class=&quot;code-quote&quot;&gt;&quot;InflowSecurity&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;action&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- Signature Encrypt Timestamp  makes the Axis2 client to throw &lt;span class=&quot;code-quote&quot;&gt;&quot;Actions mismatch&quot;&lt;/span&gt; exception !--&amp;gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;items&amp;gt;&lt;/span&gt;Encrypt Signature Timestamp&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/items&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/action&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/parameter&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The question is: how to make CXF to change the order of signature and encrypted key elements in security header of the SOAP response to make it compatible with Axis2 clients? Since the order of action is the same in both Axis and CXF configuration files &lt;b&gt;Signature Encrypt Timestamp&lt;/b&gt;, then it should work out of the box, shouldn&apos;t it ?&lt;/p&gt;


&lt;p&gt;Response sample:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;

&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;soap:Envelope &lt;span class=&quot;code-keyword&quot;&gt;xmlns:soap&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;

  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;soap:Header&amp;gt;&lt;/span&gt;
    &amp;lt;wsse:Security &lt;span class=&quot;code-keyword&quot;&gt;xmlns:wsse&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;xmlns:wsu&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&lt;/span&gt;
    soap:mustUnderstand=&lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;&amp;gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsu:Timestamp wsu:Id=&lt;span class=&quot;code-quote&quot;&gt;&quot;TS-6&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsu:Created&amp;gt;&lt;/span&gt;2013-02-10T20:22:51.879Z&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsu:Created&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsu:Expires&amp;gt;&lt;/span&gt;2013-02-10T20:27:51.879Z&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsu:Expires&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsu:Timestamp&amp;gt;&lt;/span&gt;     
      &amp;lt;ds:Signature &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ds&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2000/09/xmldsig#&quot;&lt;/span&gt;
      Id=&lt;span class=&quot;code-quote&quot;&gt;&quot;SIG-8&quot;&lt;/span&gt;&amp;gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:SignedInfo&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:CanonicalizationMethod Algorithm=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:SignatureMethod Algorithm=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:Reference URI=&lt;span class=&quot;code-quote&quot;&gt;&quot;#id-7&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:Transforms&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:Transform Algorithm=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ds:Transforms&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:DigestMethod Algorithm=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:DigestValue&amp;gt;&lt;/span&gt;
            otiRAVkSs777jSOZqqwBJlFILJo=&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ds:DigestValue&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ds:Reference&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:Reference URI=&lt;span class=&quot;code-quote&quot;&gt;&quot;#TS-6&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:Transforms&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:Transform Algorithm=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ds:Transforms&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:DigestMethod Algorithm=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:DigestValue&amp;gt;&lt;/span&gt;
            wAJxVtTNvbPX6aHqrrX7/SOPplQ=&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ds:DigestValue&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ds:Reference&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ds:SignedInfo&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:SignatureValue&amp;gt;&lt;/span&gt;
        Dy/OVbJOTr1lfqzbZCGxUlanJ0YKVmnyDV9F3Z1aJtB093rXffnKX35o4CxfWqVY/k1COF1TG6mfDZ6nbd1PqM6Vlbk8hBL5iSUFZAKe6RgilD9nYZmWPl2KaLAVrHS66jdmczWGWUh/15YTWB1s8cyNbBSVrwcyKx9FlOgI3pY=&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ds:SignatureValue&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:KeyInfo Id=&lt;span class=&quot;code-quote&quot;&gt;&quot;KI-6029833839643E518513605277718807&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsse:SecurityTokenReference wsu:Id=&lt;span class=&quot;code-quote&quot;&gt;&quot;STR-6029833839643E518513605277718808&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;

            &amp;lt;wsse:KeyIdentifier EncodingType=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;&lt;/span&gt;
            ValueType=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://docs.oasis-open.org/wss/oasis-wss-soap-message-security-1.1#ThumbprintSHA1&quot;&lt;/span&gt;&amp;gt;
            4ZQm/eQOxdcAHohj09+Uk4ex3Lw=&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsse:KeyIdentifier&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsse:SecurityTokenReference&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ds:KeyInfo&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ds:Signature&amp;gt;&lt;/span&gt;
 &amp;lt;xenc:EncryptedKey &lt;span class=&quot;code-keyword&quot;&gt;xmlns:xenc&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/04/xmlenc#&quot;&lt;/span&gt;
      Id=&lt;span class=&quot;code-quote&quot;&gt;&quot;EK-6029833839643E518513605277718755&quot;&lt;/span&gt;&amp;gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;xenc:EncryptionMethod Algorithm=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/04/xmlenc#rsa-1_5&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:KeyInfo &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ds&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2000/09/xmldsig#&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsse:SecurityTokenReference&amp;gt;&lt;/span&gt;
            &amp;lt;wsse:KeyIdentifier EncodingType=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;&lt;/span&gt;
            ValueType=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://docs.oasis-open.org/wss/oasis-wss-soap-message-security-1.1#ThumbprintSHA1&quot;&lt;/span&gt;&amp;gt;
            mxCXzekKZqaJcrE3UmHFGOswTnI=&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsse:KeyIdentifier&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsse:SecurityTokenReference&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ds:KeyInfo&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;xenc:CipherData&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;xenc:CipherValue&amp;gt;&lt;/span&gt;
          SQWm0I/90/iJUEDAts1jBPC4/W67aDTwrWGzZn1sYYRKyiFx/SxaGj3rtO3Nx8548I0e0ymfGN78ukjcytsUZHoABSNPmJb773Ou4r1l/S7oPqrGCW87A3OpFj3ri62u+iVP3c0u58tnjdIyKXqyeuZTpjtRETlTviH7O4YyInk=&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/xenc:CipherValue&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/xenc:CipherData&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;xenc:ReferenceList&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;xenc:DataReference URI=&lt;span class=&quot;code-quote&quot;&gt;&quot;#ED-5&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/xenc:ReferenceList&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/xenc:EncryptedKey&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsse:Security&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;Action xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2005/08/addressing&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    http://service.resadapter.myidtravel.lhsystems.com/RESAdapterServicePortType/getAvailabilityResponse&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/Action&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;MessageID xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2005/08/addressing&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    urn:uuid:f8f2570d-cd35-404a-b413-e5322ca92d01&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/MessageID&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;To xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2005/08/addressing&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    http://www.w3.org/2005/08/addressing/anonymous&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/To&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;RelatesTo xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2005/08/addressing&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    urn:uuid:65935AD1BEED993E3D1360527858578&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/RelatesTo&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/soap:Header&amp;gt;&lt;/span&gt;
  &amp;lt;soap:Body &lt;span class=&quot;code-keyword&quot;&gt;xmlns:wsu&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&lt;/span&gt;
  wsu:Id=&lt;span class=&quot;code-quote&quot;&gt;&quot;id-7&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;xenc:EncryptedData &lt;span class=&quot;code-keyword&quot;&gt;xmlns:xenc&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/04/xmlenc#&quot;&lt;/span&gt;
    Id=&lt;span class=&quot;code-quote&quot;&gt;&quot;ED-5&quot;&lt;/span&gt; Type=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/04/xmlenc#Content&quot;&lt;/span&gt;&amp;gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;xenc:EncryptionMethod Algorithm=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/04/xmlenc#tripledes-cbc&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ds:KeyInfo &lt;span class=&quot;code-keyword&quot;&gt;xmlns:ds&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2000/09/xmldsig#&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &amp;lt;wsse:SecurityTokenReference &lt;span class=&quot;code-keyword&quot;&gt;xmlns:wsse&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&lt;/span&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;xmlns:wsse11&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd&quot;&lt;/span&gt;
        wsse11:TokenType=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://docs.oasis-open.org/wss/oasis-wss-soap-message-security-1.1#EncryptedKey&quot;&lt;/span&gt;&amp;gt;

          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsse:Reference URI=&lt;span class=&quot;code-quote&quot;&gt;&quot;#EK-6029833839643E518513605277718755&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/wsse:SecurityTokenReference&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ds:KeyInfo&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;xenc:CipherData&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;xenc:CipherValue&amp;gt;&lt;/span&gt;
        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&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/xenc:CipherValue&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/xenc:CipherData&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/xenc:EncryptedData&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/soap:Body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/soap:Envelope&amp;gt;&lt;/span&gt;


&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;



&lt;p&gt;Rampart configuration : &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;parameter name=&lt;span class=&quot;code-quote&quot;&gt;&quot;InflowSecurity&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;action&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;items&amp;gt;&lt;/span&gt;Signature Encrypt Timestamp&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/items&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/action&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/parameter&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;CXF configuration:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;
&amp;lt;beans xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.springframework.org/schema/beans&quot;&lt;/span&gt;
       &lt;span class=&quot;code-keyword&quot;&gt;xmlns:xsi&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;
       &lt;span class=&quot;code-keyword&quot;&gt;xmlns:jaxws&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://cxf.apache.org/jaxws&quot;&lt;/span&gt;
       &lt;span class=&quot;code-keyword&quot;&gt;xmlns:wsa&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://cxf.apache.org/ws/addressing&quot;&lt;/span&gt;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
                        http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd
                        http://cxf.apache.org/ws/addressing http://cxf.apache.org/schemas/ws-addr-conf.xsd&quot;&amp;gt;

    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;import resource=&lt;span class=&quot;code-quote&quot;&gt;&quot;classpath:META-INF/cxf/cxf.xml&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;import resource=&lt;span class=&quot;code-quote&quot;&gt;&quot;classpath:META-INF/cxf/cxf-extension-*.xml&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;import resource=&lt;span class=&quot;code-quote&quot;&gt;&quot;classpath:META-INF/cxf/cxf-servlet.xml&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- Spring manage ServiceBean --&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;RESAdapterService&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;net.worldticket.edi.protocol.ota.RESAdapterService&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;

    &amp;lt;!--
    Log4j is set to be used in META-INF\cxf\org.apache.cxf.Logger
    Make sure that log4j INFO level is set for the following interceptors or
    for the package org.apache.cxf to make them work.
    --&amp;gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;logInInterceptor&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cxf.interceptor.LoggingInInterceptor&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;logOutInterceptor&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cxf.interceptor.LoggingOutInterceptor&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;

    &amp;lt;!--
         WSS4JInInterceptor for decrypting and validating the signature of the SOAP request.
    --&amp;gt;
    &amp;lt;bean
        id=&lt;span class=&quot;code-quote&quot;&gt;&quot;TimestampSignEncrypt_Request&quot;&lt;/span&gt;
        class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor&quot;&lt;/span&gt;&amp;gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;constructor-arg&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;map&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;action&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;Signature Encrypt Timestamp&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;signaturePropFile&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;interop.properties&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;decryptionPropFile&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;interop.properties&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;passwordCallbackClass&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;net.worldticket.myIdTravel.PasswordCallback&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/map&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

    &amp;lt;!--
         WSS4JOutInterceptor for encoding and signing the SOAP response.
    --&amp;gt;
    &amp;lt;bean
        id=&lt;span class=&quot;code-quote&quot;&gt;&quot;TimestampSignEncrypt_Response&quot;&lt;/span&gt;
        class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor&quot;&lt;/span&gt;&amp;gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;constructor-arg&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;map&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;action&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;Signature Encrypt Timestamp&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;user&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;useReqSigCert&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;signatureUser&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;bob&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;signaturePropFile&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;interop.properties&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;encryptionPropFile&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;interop.properties&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;passwordCallbackClass&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;net.worldticket.myIdTravel.PasswordCallback&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;signatureParts&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;{Element}{http://schemas.xmlsoap.org/soap/envelope/}Body;{Element}{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd}Timestamp&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;encryptionParts&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;{Content}{http://schemas.xmlsoap.org/soap/envelope/}Body&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;encryptionSymAlgorithm&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/04/xmlenc#tripledes-cbc&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;encryptionKeyTransportAlgorithm&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2001/04/xmlenc#rsa-1_5&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;encryptionKeyIdentifier&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;Thumbprint&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;entry key=&lt;span class=&quot;code-quote&quot;&gt;&quot;signatureKeyIdentifier&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;Thumbprint&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/map&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- JAX-WS Service Endpoint --&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;jaxws:endpoint id=&lt;span class=&quot;code-quote&quot;&gt;&quot;resadapter&quot;&lt;/span&gt; implementor=&lt;span class=&quot;code-quote&quot;&gt;&quot;#RESAdapterService&quot;&lt;/span&gt; address=&lt;span class=&quot;code-quote&quot;&gt;&quot;/resadapter&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;jaxws:outInterceptors&amp;gt;&lt;/span&gt;
             &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ref bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;logOutInterceptor&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
             &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ref bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;TimestampSignEncrypt_Response&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/jaxws:outInterceptors&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;jaxws:inInterceptors&amp;gt;&lt;/span&gt;
             &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ref bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;logInInterceptor&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
             &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ref bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;TimestampSignEncrypt_Request&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/jaxws:inInterceptors&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;jaxws:features&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;wsa:addressing allowDuplicates=&lt;span class=&quot;code-quote&quot;&gt;&quot;false&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/jaxws:features&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/jaxws:endpoint&amp;gt;&lt;/span&gt;

&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/beans&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12631945">CXF-4823</key>
            <summary>CXF - Rampart  interoperability issue: order of signature and encrypted key elements in XML </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="coheigea">Colm O hEigeartaigh</assignee>
                                    <reporter username="sgri">Sergey</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Feb 2013 14:00:30 +0000</created>
                <updated>Tue, 9 Apr 2013 15:15:52 +0000</updated>
                            <resolved>Wed, 13 Feb 2013 12:21:25 +0000</resolved>
                                                    <fixVersion>2.7.4</fixVersion>
                    <fixVersion>2.6.7</fixVersion>
                    <fixVersion>2.5.10</fixVersion>
                                    <component>WS-* Components</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13576629" author="coheigea" created="Tue, 12 Feb 2013 14:13:33 +0000"  >
&lt;p&gt;Have you tried changing the Rampart configuration so that &quot;Encrypt&quot; is before &quot;Signature&quot;?&lt;/p&gt;

&lt;p&gt;Colm.&lt;/p&gt;</comment>
                            <comment id="13576632" author="coheigea" created="Tue, 12 Feb 2013 14:18:39 +0000"  >
&lt;p&gt;&amp;gt;  Since the order of action is the same in both Axis and CXF configuration files Signature Encrypt &lt;br/&gt;
&amp;gt; Timestamp, then it should work out of the box, shouldn&apos;t it ?&lt;/p&gt;

&lt;p&gt;No, they&apos;re different products. I suspect you&apos;re using an older version of Axis which uses WSS4J 1.5.x, which had different rules based around how Signature Elements are added to the security header.&lt;/p&gt;

&lt;p&gt;Colm.&lt;/p&gt;</comment>
                            <comment id="13576633" author="sgri" created="Tue, 12 Feb 2013 14:18:56 +0000"  >&lt;p&gt;Yes I did and it works, but the problem is that the company who connects to us with Axis2 is not willing to change configuration because if they change configuration, then they may have errors connecting other services who use Axis2 on the server side. That is not an option for us.&lt;/p&gt;</comment>
                            <comment id="13576635" author="sgri" created="Tue, 12 Feb 2013 14:23:01 +0000"  >&lt;p&gt;I have re-produced the problem locally with wss4j version 1.6.9, Axis and Rampart version 1.6.3, CXF version 2.7.3. All of them are at the latest version, so this is not caused by outdated libraries.&lt;/p&gt;</comment>
                            <comment id="13576647" author="coheigea" created="Tue, 12 Feb 2013 14:38:43 +0000"  >
&lt;p&gt;There is no Rampart release version 1.6.3:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://axis.apache.org/axis2/java/rampart/download.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://axis.apache.org/axis2/java/rampart/download.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Colm.&lt;/p&gt;</comment>
                            <comment id="13576654" author="sgri" created="Tue, 12 Feb 2013 14:51:35 +0000"  >&lt;p&gt;Sorry, Axis and Rampart 1.6.2&lt;/p&gt;</comment>
                            <comment id="13577432" author="sgri" created="Wed, 13 Feb 2013 09:28:56 +0000"  >&lt;p&gt;Eventually I found a workaround. I have implemented a javax.servlet.Filter which re-orders XML elements before returning response to the client. I have also removed the message body from the signature, now signature is computed on timestamp element only, otherwise re-ordering &quot;encrypted key&quot; and &quot;signature&quot; elements causes an error when checking signature on the client side.&lt;/p&gt;

&lt;p&gt;Nevertheless this issue has to be fixed, because it is frustrating to not be able to serve Axis2 clients out-of-the box. I think a new parameter has to be added to CXF endpoint configuration to activate Axis2 compatibility mode.&lt;/p&gt;</comment>
                            <comment id="13577487" author="dkulp" created="Wed, 13 Feb 2013 11:03:09 +0000"  >&lt;p&gt;&lt;br/&gt;
Has an issue been raised in Rampart?&lt;/p&gt;</comment>
                            <comment id="13577519" author="coheigea" created="Wed, 13 Feb 2013 12:21:25 +0000"  >
&lt;p&gt;I looked into what was happening here some more. The problem is due to a fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/WSS-231&quot; title=&quot;There is an issue with the position of the &amp;lt;Timestamp&amp;gt; element in the &amp;lt;Security&amp;gt; header when using  WSS4J calling .NET Web Services with WS-Security.  &quot; class=&quot;issue-link&quot; data-issue-key=&quot;WSS-231&quot;&gt;&lt;del&gt;WSS-231&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WSS-231&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/WSS-231&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This was to support &quot;Signature Timestamp&quot; type actions in WSS4J 1.6.x. Therefore, I do not think that any Axis2 clients using WSS4J 1.6.x could work with this type of ordering, unless Rampart is doing some hack under the hood. In any case, I&apos;ve fixed the ordering for the next release:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WSS-424&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/WSS-424&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Colm.&lt;/p&gt;</comment>
                            <comment id="13578190" author="sgri" created="Thu, 14 Feb 2013 07:04:34 +0000"  >&lt;p&gt;Colm,&lt;/p&gt;

&lt;p&gt;Thank you very much for fixing the issue so quickly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hx2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312787</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>