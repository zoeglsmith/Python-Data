<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat May 27 09:46:55 UTC 2023

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7831] SocketTimeoutException when previous response was exactly chunk length bytes</title>
                <link>https://issues.apache.org/jira/browse/CXF-7831</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;When using the Asynchronous Client HTTP Transport we get a SocketTimeout exception when the previous response was exactly the same length as the chunk length by default 16320 bytes.&lt;/p&gt;

&lt;p&gt;After some investigation we have found that the problem is that when the http connection is returned to&#160;PoolingNHttpClientConnectionManager the SelectionKey&apos;s interestOps does not contain OP_READ. The input gets suspended in SharedInputBuffer when the buffer is full (16320 bytes by default) if this happens at the same time as the endOfStream is reached more input is never requested. We have fixed it locally by adding an endOfStream check before suspending input in SharedInputBuffer. This might not be the correct place to fix it since you could argue that it should not be the responsibility of the user of&#160;PoolingNHttpClientConnectionManager to return the http connection in the correct state.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;An example project to reproduce the problem is attached in asyncbugtest.zip and a patch with our fix is in&#160;Check_endOfStream_before_suspending_input.patch&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13182599">CXF-7831</key>
            <summary>SocketTimeoutException when previous response was exactly chunk length bytes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="hallonbat">Jan Hallonsten</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Sep 2018 10:25:07 +0000</created>
                <updated>Tue, 30 Oct 2018 10:05:58 +0000</updated>
                            <resolved>Tue, 4 Sep 2018 04:12:21 +0000</resolved>
                                    <version>3.2.6</version>
                                    <fixVersion>3.2.7</fixVersion>
                    <fixVersion>3.3.0</fixVersion>
                                    <component>Transports</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16602586" author="ffang" created="Tue, 4 Sep 2018 04:10:04 +0000"  >&lt;p&gt;I think the proposed fix is good. Just commit fix accordingly and testcase is also added.&lt;/p&gt;

&lt;p&gt;Thanks Jan Hallonsten for investigating this issue!&lt;/p&gt;</comment>
                            <comment id="16602815" author="hallonbat" created="Tue, 4 Sep 2018 09:30:45 +0000"  >&lt;p&gt;Thank you for the quick resolution!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12938120" name="Check_endOfStream_before_suspending_input.patch" size="935" author="hallonbat" created="Mon, 3 Sep 2018 10:23:58 +0000"/>
                            <attachment id="12938121" name="asyncbugtest.zip" size="6122" author="hallonbat" created="Mon, 3 Sep 2018 10:23:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 38 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3xo5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>