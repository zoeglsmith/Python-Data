<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat May 27 09:47:44 UTC 2023

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-1864] CXF client failes to parse SOAP 1.2 FaultCode</title>
                <link>https://issues.apache.org/jira/browse/CXF-1864</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I&apos;m using CXF as a WS client for WS which is running on JBoss 4.2.3 GA. Web service is configured to use SOAP 1.2 protocol. &lt;br/&gt;
Here is the SOAP message that I get from server: &lt;br/&gt;
&amp;lt;env:Envelope xmlns:env=&apos;http://www.w3.org/2003/05/soap-envelope&apos;&amp;gt;&amp;lt;env:Header&amp;gt;&amp;lt;/env:Header&amp;gt;&amp;lt;env:Body&amp;gt;&amp;lt;env:Fault xmlns:env=&apos;http://www.w3.org/2003/05/soap-envelope&apos;&amp;gt;&amp;lt;env:Code xmlns:env=&apos;http://www.w3.org/2003/05/soap-envelope&apos;&amp;gt;&amp;lt;env:Value xmlns:codeNS=&apos;http://www.w3.org/2003/05/soap-envelope&apos; xmlns:env=&apos;http://www.w3.org/2003/05/soap-envelope&apos;&amp;gt;codeNS:Receiver&amp;lt;/env:Value&amp;gt;&amp;lt;/env:Code&amp;gt;&amp;lt;env:Reason xmlns:env=&apos;http://www.w3.org/2003/05/soap-envelope&apos;&amp;gt;&amp;lt;env:Text xml:lang=&apos;en-US&apos; xmlns:env=&apos;http://www.w3.org/2003/05/soap-envelope&apos;&amp;gt;Some Reason&amp;lt;/env:Text&amp;gt;&amp;lt;/env:Reason&amp;gt;&amp;lt;env:Detail xmlns:env=&apos;http://www.w3.org/2003/05/soap-envelope&apos;&amp;gt;&amp;lt;Error&amp;gt;&amp;lt;ErrorType&amp;gt;General&amp;lt;/ErrorType&amp;gt;&amp;lt;ErrorCode&amp;gt;201&amp;lt;/ErrorCode&amp;gt;&amp;lt;ErrorMessage&amp;gt;Person with that pid already exists!&amp;lt;/ErrorMessage&amp;gt;&amp;lt;ErrorSource&amp;gt;Create&amp;lt;/ErrorSource&amp;gt;&amp;lt;/Error&amp;gt;&amp;lt;/env:Detail&amp;gt;&amp;lt;/env:Fault&amp;gt;&amp;lt;/env:Body&amp;gt;&amp;lt;/env:Envelope&amp;gt;.&lt;/p&gt;

&lt;p&gt;CXF stack trace:&lt;br/&gt;
INFO: Interceptor has thrown exception, unwinding now&lt;br/&gt;
java.lang.RuntimeException: Invalid QName in mapping: codeNS:Receiver&lt;br/&gt;
	at org.apache.cxf.helpers.XMLUtils.getQName(XMLUtils.java:387)&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.Soap12FaultInInterceptor.handleMessage(Soap12FaultInInterceptor.java:72)&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.Soap12FaultInInterceptor.handleMessage(Soap12FaultInInterceptor.java:46)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:220)&lt;br/&gt;
	at org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver.onMessage(AbstractFaultChainInitiatorObserver.java:96)&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.CheckFaultInterceptor.handleMessage(CheckFaultInterceptor.java:69)&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.CheckFaultInterceptor.handleMessage(CheckFaultInterceptor.java:34)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:220)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:449)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:2029)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1865)&lt;br/&gt;
	at org.apache.cxf.io.CacheAndWriteOutputStream.postClose(CacheAndWriteOutputStream.java:47)&lt;br/&gt;
	at org.apache.cxf.io.CachedOutputStream.close(CachedOutputStream.java:170)&lt;br/&gt;
	at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:66)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:593)&lt;br/&gt;
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:220)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:296)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:242)&lt;br/&gt;
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:178)&lt;br/&gt;
	at $Proxy39.create(Unknown Source)&lt;br/&gt;
	at com.prozone.poc.ejb.session.PersonWS_PersonWSPort_Client.main(PersonWS_PersonWSPort_Client.java:72)&lt;br/&gt;
Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: java.lang.RuntimeException: Invalid QName in mapping: codeNS:Receiver&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:196)&lt;br/&gt;
	at $Proxy39.create(Unknown Source)&lt;br/&gt;
	at com.prozone.poc.ejb.session.PersonWS_PersonWSPort_Client.main(PersonWS_PersonWSPort_Client.java:72)&lt;br/&gt;
Caused by: java.lang.RuntimeException: Invalid QName in mapping: codeNS:Receiver&lt;br/&gt;
	at org.apache.cxf.helpers.XMLUtils.getQName(XMLUtils.java:387)&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.Soap12FaultInInterceptor.handleMessage(Soap12FaultInInterceptor.java:72)&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.Soap12FaultInInterceptor.handleMessage(Soap12FaultInInterceptor.java:46)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:220)&lt;br/&gt;
	at org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver.onMessage(AbstractFaultChainInitiatorObserver.java:96)&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.CheckFaultInterceptor.handleMessage(CheckFaultInterceptor.java:69)&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.CheckFaultInterceptor.handleMessage(CheckFaultInterceptor.java:34)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:220)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:449)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:2029)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1865)&lt;br/&gt;
	at org.apache.cxf.io.CacheAndWriteOutputStream.postClose(CacheAndWriteOutputStream.java:47)&lt;br/&gt;
	at org.apache.cxf.io.CachedOutputStream.close(CachedOutputStream.java:170)&lt;br/&gt;
	at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:66)&lt;br/&gt;
	at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:593)&lt;br/&gt;
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:220)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:296)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:242)&lt;br/&gt;
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:178)&lt;br/&gt;
	... 2 more&lt;/p&gt;

&lt;p&gt;I have tried to use Axis2 to test this case and everything worked ok. After looking at the CXF source code, I have noticed  that the problem is in FaultCode/Value parsing. It seems like CXF soap fault 1.2 interceptor, looks for &quot;codeNS&quot; namespace definition only in the top element of the message (Envelope).&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP 64-bit, Java JDK 1.5. update 14 (32-bit)&lt;/p&gt;</environment>
        <key id="12406400">CXF-1864</key>
            <summary>CXF client failes to parse SOAP 1.2 FaultCode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="slobodan.marjanovic">Slobodan Marjanovic</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Oct 2008 15:39:56 +0000</created>
                <updated>Thu, 23 Oct 2008 03:59:29 +0000</updated>
                            <resolved>Tue, 14 Oct 2008 17:21:54 +0000</resolved>
                                    <version>2.1.2</version>
                                    <fixVersion>2.1.3</fixVersion>
                                    <component>Soap Binding</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>112631</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 34 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0v3l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>179554</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>