<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat May 27 09:46:05 UTC 2023

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-6030] javax.xml.ws.soap.SOAPFaultException: Fault string, and possibly fault code, not set for cxf.</title>
                <link>https://issues.apache.org/jira/browse/CXF-6030</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Hi, &lt;br/&gt;
I am getting following error for my application on PROD:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Tue, 30-Sep-2014 @ 12:22:14.469&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;catalina-exec-86&amp;#93;&lt;/span&gt; ERROR com.dish.dishapi.service.Service  - InvocationTargetException occured while calling operation: getOAuthAuthentication with error message: &lt;br/&gt;
java.lang.reflect.InvocationTargetException&lt;br/&gt;
	at com.dish.dishapi.service.Service.invokeOperation(Service.java:37)&lt;br/&gt;
	at com.dish.dishapi.service.ResourceEntitlementService.execute(ResourceEntitlementService.java:16)&lt;br/&gt;
	at com.dish.api.service.ResourceEntitlementServiceEntry.execute(ResourceEntitlementServiceEntry.groovy:11)&lt;br/&gt;
	at com.dish.api.AuthController.oAuth(AuthController.groovy:56)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:744)&lt;br/&gt;
Caused by: javax.xml.ws.soap.SOAPFaultException: Fault string, and possibly fault code, not set&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:157)&lt;br/&gt;
	at com.dish.dishapi.service.resourceentitlement.ResourceEntitlementV5.getOAuthAuthentication(ResourceEntitlementV5.java:109)&lt;br/&gt;
	... 7 more&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.SoapHeaderOutFilterInterceptor.handleMessage(SoapHeaderOutFilterInterceptor.java:43)&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.SoapHeaderOutFilterInterceptor.handleMessage(SoapHeaderOutFilterInterceptor.java:29)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:272)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:570)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:479)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:382)&lt;br/&gt;
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:335)&lt;br/&gt;
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)&lt;br/&gt;
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:135)&lt;br/&gt;
	... 8 more&lt;/p&gt;

&lt;p&gt; Its not happening on my Local. Also its not happening on PROD all time.. But when it started it is happening all the time on that specific cluster.&lt;/p&gt;


&lt;p&gt;Codebase:&lt;/p&gt;

&lt;p&gt;Service Client Class&lt;br/&gt;
public class ResourceEntitlementV5 {&lt;/p&gt;

&lt;p&gt;    private static ResourceEntitlementV50PortType resourceEntitlementPortV5 = (ResourceEntitlementV50PortType) DishApiPortFactory.RESOURCE_ENTITLEMENT_MGMT&lt;br/&gt;
    .create();&lt;/p&gt;

&lt;p&gt;public ProcessAuthenticationResponse processAuthentication(&lt;br/&gt;
            ResourceEntitlementTransferRequest request) &lt;/p&gt;
{
            return resourceEntitlementPortV5.processAuthentication(request);
    }


&lt;p&gt;Configuration of port calls:&lt;br/&gt;
public class DishApiPortFactory&amp;lt;T&amp;gt; {&lt;br/&gt;
public static final DishApiPortFactory&amp;lt;ResourceEntitlementV50PortType&amp;gt; RESOURCE_ENTITLEMENT_MGMT = newPortFactory(&lt;br/&gt;
            new ResourceEntitlementV50().getResourceEntitlementV50Port(),&lt;br/&gt;
            UriMapper.RESOURCE_ENTITLEMENT_MGMT_ENDPOINT);&lt;/p&gt;

&lt;p&gt; private static &amp;lt;T&amp;gt; DishApiPortFactory&amp;lt;T&amp;gt; newPortFactory(T port, String endpointPropName) {&lt;br/&gt;
        log.info(&quot; Starting STUB and ENDPOINT binding  for end point key :{} &quot;, endpointPropName);&lt;br/&gt;
        String uri = null;&lt;br/&gt;
        try {&lt;/p&gt;

&lt;p&gt;                uri = DishApiKeyValueUtility.getValueFromKey(endpointPropName);&lt;/p&gt;

&lt;p&gt;            log.info(&quot; FOUND URI for {} = {} &quot;, endpointPropName, uri);&lt;br/&gt;
            Map&amp;lt;String, Object&amp;gt; requestContext = ((BindingProvider) port).getRequestContext();&lt;br/&gt;
            log.info(&quot;URI: &quot; + uri);&lt;br/&gt;
            requestContext.put(&quot;thread.local.request.context&quot;, &quot;true&quot;);&lt;br/&gt;
            requestContext.put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, uri);&lt;br/&gt;
        } catch (Exception e) &lt;/p&gt;
{
            log.error(&quot;Exception thrown while doing STUB and ENDPOINT binding&quot;, e);
        }
&lt;p&gt;        return new DishApiPortFactory&amp;lt;T&amp;gt;(port);&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;cxf version: cxf-codegen-plugin-2.7.11&lt;/p&gt;</description>
                <environment></environment>
        <key id="12745052">CXF-6030</key>
            <summary>javax.xml.ws.soap.SOAPFaultException: Fault string, and possibly fault code, not set for cxf.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="jjroshan">Jagat</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Sep 2014 20:30:19 +0000</created>
                <updated>Wed, 7 Mar 2018 11:13:12 +0000</updated>
                            <resolved>Tue, 28 Oct 2014 18:28:51 +0000</resolved>
                                                    <fixVersion>3.0.3</fixVersion>
                    <fixVersion>2.7.14</fixVersion>
                                    <component>JAX-WS Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14234360" author="rishikanta" created="Thu, 4 Dec 2014 16:57:45 +0000"  >&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;I&apos;m also getting a similar stack trace on one of my web service calls. I&apos;m using cxf-bundle 2.6.2 and I&apos;m getting this message:&lt;/p&gt;

&lt;p&gt;09:51:45.980 &lt;span class=&quot;error&quot;&gt;&amp;#91;tomcat-http--49&amp;#93;&lt;/span&gt; WARN o.a.cxf.phase.PhaseInterceptorChain - e2b62aba0a168d7d1eef83f92b31397d - Interceptor for &lt;/p&gt;
{http://service.web.enroll.cambia.com/}
&lt;p&gt;EventLogService#&lt;/p&gt;
{http://service.web.enroll.cambia.com/}
&lt;p&gt;writeEventRecord has thrown exception, unwinding now&lt;br/&gt;
java.lang.NullPointerException: null&lt;br/&gt;
                at org.apache.cxf.binding.soap.interceptor.SoapHeaderOutFilterInterceptor.handleMessage(SoapHeaderOutFilterInterceptor.java:43) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;cxf-bundle-2.6.2.jar:2.6.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
                at org.apache.cxf.binding.soap.interceptor.SoapHeaderOutFilterInterceptor.handleMessage(SoapHeaderOutFilterInterceptor.java:29) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;cxf-bundle-2.6.2.jar:2.6.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
                at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:262) &lt;span class=&quot;error&quot;&gt;&amp;#91;cxf-bundle-2.6.2.jar:2.6.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
                at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:531) &lt;span class=&quot;error&quot;&gt;&amp;#91;cxf-bundle-2.6.2.jar:2.6.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
                at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:464) &lt;span class=&quot;error&quot;&gt;&amp;#91;cxf-bundle-2.6.2.jar:2.6.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
                at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:367) &lt;span class=&quot;error&quot;&gt;&amp;#91;cxf-bundle-2.6.2.jar:2.6.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
                at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:320) &lt;span class=&quot;error&quot;&gt;&amp;#91;cxf-bundle-2.6.2.jar:2.6.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
                at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:89) &lt;span class=&quot;error&quot;&gt;&amp;#91;cxf-bundle-2.6.2.jar:2.6.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
                at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:134) &lt;span class=&quot;error&quot;&gt;&amp;#91;cxf-bundle-2.6.2.jar:2.6.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
                at com.sun.proxy.$Proxy100.writeEventRecord(Unknown Source) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Is there any reason why this is happening randomly? It happens only in specific environments and once it fails, it keeps failing until we restart our containers. Also it happens to only few web service clients, even though we are all using the same version of cxf.&lt;/p&gt;</comment>
                            <comment id="16389394" author="harshshah" created="Wed, 7 Mar 2018 11:09:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dkulp&quot; class=&quot;user-hover&quot; rel=&quot;dkulp&quot;&gt;dkulp&lt;/a&gt; can you please help me with how to get rid of this error ? Just by upgrading jar or something else? I can not find information from comments.&lt;/p&gt;

&lt;p&gt;&#160;Also I am using following version of cxf.&lt;/p&gt;

&lt;p&gt;&amp;lt;cxf.version&amp;gt;3.1.5&amp;lt;/cxf.version&amp;gt;&lt;br/&gt;
 &amp;lt;cxf.plugin.version&amp;gt;3.1.5&amp;lt;/cxf.plugin.version&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Please help.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20nhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>