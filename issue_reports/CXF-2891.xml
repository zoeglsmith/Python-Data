<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat May 27 09:46:36 UTC 2023

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2891] Invalid WSDL when using &lt;jax-ws:schemaLocation&gt; (XSD) with ASM in the classpath</title>
                <link>https://issues.apache.org/jira/browse/CXF-2891</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;CXF produces an invalid wsdl when both a &amp;lt;jaxws:schemaLocation&amp;gt; (XSD) is specified and the ASM library is in the classpath.&lt;/p&gt;

&lt;p&gt;The error messages is : GRAVE: Schema element &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; references undefined type &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;br/&gt;
The generated wsdl can not be read by SoapUI.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;BUT&lt;/b&gt;, there is no error messages and &lt;b&gt;the WSDL is fully working&lt;/b&gt; if :&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;I remove the &amp;lt;jaxws:schemaLocation&amp;gt; configuration element&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;OR&lt;/em&gt;, the ASM library is completely excluded from the classpath&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think there is an incompatibility between the use of an XSD (jaxws:schemaLocation) and the ASM library.&lt;/p&gt;

&lt;p&gt;A sample webapp is attached and it makes easier to reproduce the problem (see below for details).&lt;/p&gt;


&lt;h4&gt;&lt;a name=&quot;Versions&quot;&gt;&lt;/a&gt;Versions&lt;/h4&gt;

&lt;p&gt;Tested with :&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;CXF : 2.2.6 to 2.2.9&lt;/li&gt;
	&lt;li&gt;ASM 2.2.3, 3.0, 3.1&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;CXF depends on ASM 2.2.3 but this dependency is optional.&lt;br/&gt;
ASM 3.1 is provided by JBoss so it will be available anyway in the classpath.&lt;br/&gt;
So I was not able to deploy the sample webapp on JBoss 5.&lt;/p&gt;

&lt;p&gt;With ASM 1.5.3, there is no error.&lt;/p&gt;


&lt;h4&gt;&lt;a name=&quot;Fulllogmessages&quot;&gt;&lt;/a&gt;Full log messages&lt;/h4&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;12 juil. 2010 15:25:42 org.apache.cxf.service.factory.ReflectionServiceFactoryBean
GRAVE: Schema element{http:&lt;span class=&quot;code-comment&quot;&gt;//creditcard.example.com/}getCreditCardStatusResponse references undefined type 
&lt;/span&gt;{http:&lt;span class=&quot;code-comment&quot;&gt;//creditcard.example.com/}getCreditCardStatusResponse &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; service {http://creditcard.example.com/}
&lt;/span&gt;12 juil. 2010 15:25:42 org.apache.cxf.service.factory.ReflectionServiceFactoryBean
GRAVE: Schema element {http:&lt;span class=&quot;code-comment&quot;&gt;//creditcard.example.com/}getCreditCardStatus references undefined type 
&lt;/span&gt;{http:&lt;span class=&quot;code-comment&quot;&gt;//creditcard.example.com/}getCreditCardStatus &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; service {http://creditcard.example.com/}CreditCardWebServiceImplService.&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;h4&gt;&lt;a name=&quot;FullJaxwsdeclaration&quot;&gt;&lt;/a&gt;Full Jax-ws declaration&lt;/h4&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;  &amp;lt;jaxws:endpoint
      id=&lt;span class=&quot;code-quote&quot;&gt;&quot;creditCardWebService&quot;&lt;/span&gt;
      implementor=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.example.creditcard.CreditCardWebServiceImpl&quot;&lt;/span&gt;
      address=&lt;span class=&quot;code-quote&quot;&gt;&quot;/creditCard&quot;&lt;/span&gt;&amp;gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;jaxws:schemaLocations&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;jaxws:schemaLocation&amp;gt;&lt;/span&gt;schemas/creditCard.xsd&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/jaxws:schemaLocation&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/jaxws:schemaLocations&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/jaxws:endpoint&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;h4&gt;&lt;a name=&quot;Thesampleproject&quot;&gt;&lt;/a&gt;The sample project&lt;/h4&gt;

&lt;p&gt;Attached is a very simple webapp which can be run with : mvn jetty:run&lt;br/&gt;
This is a maven project which contains a simple XSD.&lt;br/&gt;
The XSD is used to generate the sample java beans used in the webService java code.&lt;br/&gt;
The XSD is also declared in the jaxws:endpoint in the spring applicationContext file.&lt;br/&gt;
The error is shown in the console when the endpoint is created, when CXF is started.&lt;br/&gt;
The pom.xml is fully documented and prepared to enable/disable the ASM dependency.&lt;/p&gt;

&lt;p&gt;The generated WSDL are also provided (with/without schemaLocation combined with/without ASM).&lt;/p&gt;





&lt;p&gt;Thanks for your help and the time you will take to fix this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469150">CXF-2891</key>
            <summary>Invalid WSDL when using &lt;jax-ws:schemaLocation&gt; (XSD) with ASM in the classpath</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="tqueste">Thomas Queste</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Jul 2010 09:34:13 +0000</created>
                <updated>Mon, 11 Oct 2010 14:52:47 +0000</updated>
                            <resolved>Thu, 12 Aug 2010 18:04:18 +0000</resolved>
                                    <version>2.2.6</version>
                    <version>2.2.7</version>
                    <version>2.2.8</version>
                    <version>2.2.9</version>
                                    <fixVersion>2.2.10</fixVersion>
                                        <due></due>
                            <votes>3</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12888030" author="gmazza" created="Tue, 13 Jul 2010 21:44:50 +0000"  >&lt;p&gt;The email thread on this issue is here;&lt;br/&gt;
&lt;a href=&quot;http://cxf.547215.n5.nabble.com/Invalid-WSDL-with-a-Jax-ws-schemaLocation-XSD-specified-td1046395.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cxf.547215.n5.nabble.com/Invalid-WSDL-with-a-Jax-ws-schemaLocation-XSD-specified-td1046395.html&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="12889191" author="tqueste" created="Fri, 16 Jul 2010 14:26:59 +0000"  >&lt;p&gt;When using &amp;lt;jaxws:schemaLocation&amp;gt; and with ASM in the classpath, the generated WSDL does not contain a valid import. &lt;br/&gt;
The import tag should include the XSD declared in the schemaLocation.&lt;/p&gt;

&lt;p&gt;Both issues, &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-1822&quot; title=&quot;WSDL Schema Imports&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-1822&quot;&gt;&lt;del&gt;CXF-1822&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-2687&quot; title=&quot;CLONE -WSDL Schema Imports - include schema location doesnt have full path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-2687&quot;&gt;&lt;del&gt;CXF-2687&lt;/del&gt;&lt;/a&gt;, relate to the same problem.&lt;/p&gt;

&lt;p&gt;ASM may be the cause.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12457643">CXF-2687</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12405164">CXF-1822</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12473022">CXF-2966</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12449331" name="creditcard-sample-project.zip" size="10639" author="tqueste" created="Tue, 13 Jul 2010 09:35:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47303</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14evz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233875</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>