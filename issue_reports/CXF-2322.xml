<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat May 27 11:48:18 UTC 2023

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2322] Interceptors cannot make a copy of the returned input stream in JaxRS clients</title>
                <link>https://issues.apache.org/jira/browse/CXF-2322</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;The JaxWS clients use the stream object stored as inMessage.setContent(InputStream.class, is) which allows other interceptors to make copies of the returned stream. The JaxRS client however always goes back to the HttpInputStream stored in the HTTPURLConnection object. If you try to make a copy of the stream data you drain the HttpInputStream data and eventually the respose call will fail because the HttpInputStream is empty. &lt;/p&gt;

&lt;p&gt;I&apos;ld like to propose a change to get the JaxRS client to always first check to see if a call to inMessage.getContent(InputStream) returns a stream and if not then default back to the HttpURLConnection&apos;s HttpInputStream. This will allow other intercpetors to make copies of the stream data.&lt;/p&gt;

&lt;p&gt;Patch to follow very soon&lt;/p&gt;</description>
                <environment></environment>
        <key id="12428957">CXF-2322</key>
            <summary>Interceptors cannot make a copy of the returned input stream in JaxRS clients</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="eamonndwyer">Eamonn Dwyer</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Jun 2009 13:55:28 +0000</created>
                <updated>Mon, 3 Aug 2009 20:07:00 +0000</updated>
                            <resolved>Sat, 27 Jun 2009 21:30:36 +0000</resolved>
                                    <version>2.2.2</version>
                                    <fixVersion>2.2.3</fixVersion>
                    <fixVersion>2.3</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12724551" author="eamonndwyer" created="Fri, 26 Jun 2009 13:59:25 +0000"  >&lt;p&gt;I also made the getter and setter methods  for the InInterceptors and OutInterceptors on the AbstractClient class public so that a client can add interceptors to the list.&lt;/p&gt;</comment>
                            <comment id="12724641" author="sergey_beryozkin" created="Fri, 26 Jun 2009 18:12:49 +0000"  >&lt;p&gt;Hi Eamonn - thanks for the patch.&lt;br/&gt;
There&apos;s one thing which I&apos;d like to think more about. I was quite keen on making sure the WebClient and Client could expose only the methods to do with the http. So I might want to introduce another interface/class which can be used to customize things like in/out cxf interceptors, contexts, etc...&lt;br/&gt;
I&apos;ll see if it can be dome or not and then get back to you&lt;br/&gt;
thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="12724669" author="dkulp" created="Fri, 26 Jun 2009 19:32:46 +0000"  >&lt;p&gt;&lt;br/&gt;
Well, we already have an InterceptorProvider interface for the interceptors.   &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12724888" author="sergey_beryozkin" created="Sat, 27 Jun 2009 21:30:36 +0000"  >&lt;p&gt;Hi Eamonn - I applied the pacth, though I did a minor modification to the system test, I added interceptors before WebClient is created. I&apos;ll look at the way interceptors/etc can be retrieved from WebClient as part of working on  - I&apos;d like to see if I can introduce some configuration holder&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-2323&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CXF-2323&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="12728181" author="hudson" created="Tue, 7 Jul 2009 16:34:53 +0000"  >&lt;p&gt;Integrated in CXF-Trunk-JDK16 #97 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/CXF-Trunk-JDK16/97/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/CXF-Trunk-JDK16/97/&lt;/a&gt;)&lt;br/&gt;
    [] can&apos;t publish endpoint with XmlBeans databinding when build servicemodel from class&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12411925" name="CXF-2322.patch" size="8091" author="eamonndwyer" created="Fri, 26 Jun 2009 13:59:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113751</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i140cf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>231518</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>