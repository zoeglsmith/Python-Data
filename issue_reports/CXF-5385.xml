<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat May 27 09:45:05 UTC 2023

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5385] CXF 2.7.7 on Websphere 8.5.0 is not able to generate WADL.</title>
                <link>https://issues.apache.org/jira/browse/CXF-5385</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;Following exception occurs while trying to get the WADL out of HelloWorld app deployed on Wehbsphere 8.5.0.&lt;/p&gt;

&lt;p&gt;When I tried with CXF 2.7.3, it worked Fine! 2.7.4, 2.7.5, 2.7.6 and 2.7.7 all spits the following exception.&lt;/p&gt;

&lt;p&gt;com.ibm.ws.webcontainer.servlet.ServletWrapper service Uncaught service() exception thrown by servlet appServlet: java.lang.NoSuchMethodError: javax/ws/rs/core/Response.getHeaders()Ljavax/ws/rs/core/MultivaluedMap;&lt;br/&gt;
	at org.apache.cxf.jaxrs.utils.JAXRSUtils.setMessageContentType(JAXRSUtils.java:1587)&lt;br/&gt;
	at org.apache.cxf.jaxrs.JAXRSInvoker.checkExchangeForResponse(JAXRSInvoker.java:281)&lt;br/&gt;
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:82)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:57)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:93)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:272)&lt;br/&gt;
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)&lt;br/&gt;
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:239)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:248)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:222)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:153)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:167)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:286)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doGet(AbstractHTTPServlet.java:211)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:575)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Websphere 8.5.0, IDE: RAD 8.5.5&lt;/p&gt;</environment>
        <key id="12679274">CXF-5385</key>
            <summary>CXF 2.7.7 on Websphere 8.5.0 is not able to generate WADL.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="vbalana">Vishal Balana</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Thu, 14 Nov 2013 19:28:18 +0000</created>
                <updated>Tue, 26 Nov 2013 17:40:28 +0000</updated>
                            <resolved>Fri, 15 Nov 2013 12:39:29 +0000</resolved>
                                    <version>2.7.7</version>
                                    <fixVersion>3.0.0-milestone1</fixVersion>
                    <fixVersion>2.7.8</fixVersion>
                                    <component>JAX-RS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="345600">96h</timeoriginalestimate>
                            <timeestimate seconds="345600">96h</timeestimate>
                                        <comments>
                            <comment id="13823484" author="gzres" created="Fri, 15 Nov 2013 08:45:17 +0000"  >&lt;p&gt;I wonder why 2.7.3 works and 2.7.4 not - these both version use &lt;tt&gt;javax.ws.rs-api-2.0-m10.jar&lt;/tt&gt; as JAX-RS API.&lt;/p&gt;

&lt;p&gt;However I&apos;ve tested your scenario and encountered two problems:&lt;/p&gt;

&lt;p&gt;JAX-RS conflict:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NoSuchMethodError: javax/ws/rs/NotFoundException.validate(Ljavax/ws/rs/core/Response;Ljavax/ws/rs/core/Response$Status;)Ljavax/ws/rs/core/Response;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Commons XmlSchema conflict:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NoSuchMethodError: org/apache/ws/commons/schema/XmlSchemaCollection.read(Lorg/w3c/dom/Document;Ljava/lang/String;)Lorg/apache/ws/commons/schema/XmlSchema;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That&apos;s because the above classes are provided by WebSphere 8.5 (regardless of setting the &lt;em&gt;parent-last&lt;/em&gt; class loader):&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;WAS_HOME/plugins/javax.j2ee.jaxrs.jar&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;WAS_HOME/plugins/org.apache.axis2.jar&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;respectively.&lt;/p&gt;

&lt;p&gt;What has worked for me is this:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;console &#8594; Environment &#8594; Shared Libraries - I&apos;ve created the shared library called &quot;JAX-RS&quot; with two JARS:
	&lt;ul&gt;
		&lt;li&gt;&lt;tt&gt;M2_REPO&lt;/tt&gt;/javax/ws/rs/javax.ws.rs-api/2.0-m10/javax.ws.rs-api-2.0-m10.jar&lt;/li&gt;
		&lt;li&gt;&lt;tt&gt;M2_REPO&lt;/tt&gt;/org/apache/ws/xmlschema/xmlschema-core/2.0.3/xmlschema-core-2.0.3.jar&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Check the &quot;Use an isolated class loader for this shared library&quot; option&lt;/li&gt;
	&lt;li&gt;console &#8594; Applications &#8594; WebSphere enterprise applications &#8594; &lt;em&gt;your application&lt;/em&gt; &#8594; Shared library references - I&apos;ve checked the WAR module, clicked &lt;em&gt;Reference Shared Libraries&lt;/em&gt; and added the &quot;JAX-RS&quot; library to the WAR module.&lt;/li&gt;
	&lt;li&gt;restart WebSphere (you can&apos;t do much in WAS without restarting...)&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;And everything works!&lt;/p&gt;

&lt;p&gt;regards&lt;br/&gt;
Grzegorz Grzybek&lt;/p&gt;</comment>
                            <comment id="13823487" author="gzres" created="Fri, 15 Nov 2013 08:58:40 +0000"  >&lt;p&gt;Actually this seems to be the best solution because JAX-RS 2.0 is part of JavaEE 7 and WebSphere 8 is JavaEE 6 compliant and uses 1.1 version of this API (in &lt;tt&gt;WAS_HOME/plugins/javax.j2ee.jaxrs.jar&lt;/tt&gt;).&lt;/p&gt;</comment>
                            <comment id="13823600" author="sergey_beryozkin" created="Fri, 15 Nov 2013 12:32:32 +0000"  >&lt;p&gt;Thanks for the analysis. This is still a valid bug though as CXF trunk/2.7.x is expected to support JAX-RS 1.1 only applications, will fix it shorlty&lt;/p&gt;</comment>
                            <comment id="13823608" author="gzres" created="Fri, 15 Nov 2013 12:51:28 +0000"  >&lt;p&gt;So I think &lt;tt&gt;cxf-rt-frontend-jaxrs&lt;/tt&gt; should depend not on &lt;tt&gt;javax.ws.rs:javax.ws.rs-api&lt;/tt&gt; at all only on &lt;tt&gt;javax.ws.rs:jsr311-api:1.1.1&lt;/tt&gt;. Also the OSGi import should look different (currently it is &lt;tt&gt;javax.ws.rs*;version=&quot;[1.0,3)&quot;&lt;/tt&gt;).&lt;/p&gt;</comment>
                            <comment id="13823611" author="sergey_beryozkin" created="Fri, 15 Nov 2013 12:58:21 +0000"  >&lt;p&gt;No, that won&apos;t work, CXF 2.7.x and trunk offer JAX-RS 2.0 implementation. It just needs to be careful in its internal work to ensure JAX-RS 1.1 applications are supported&lt;/p&gt;</comment>
                            <comment id="13823754" author="gzres" created="Fri, 15 Nov 2013 15:52:24 +0000"  >&lt;p&gt;OK, I understand. So there&apos;s no choice with WebSphere - we have to use shared libraries (Commons XmlSchema doesn&apos;t work without it anyway).&lt;/p&gt;</comment>
                            <comment id="13823793" author="vbalana" created="Fri, 15 Nov 2013 16:39:05 +0000"  >&lt;p&gt;Thank you so much Grzegorz and Sergey for looking so quickly into this bug! So you guys feel that this can&apos;t be fixed in coming versions and we will have to go through the Shared Library route always?&lt;/p&gt;</comment>
                            <comment id="13823916" author="gzres" created="Fri, 15 Nov 2013 18:34:41 +0000"  >&lt;p&gt;Vishal - I think you have no choice. CXF uses ws-commons XmlSchema 2.0.3 and WebSphere provides it&apos;s own version so, even without considering JAX-RS Api you have to use WAS&apos; shared library.&lt;/p&gt;

&lt;p&gt;I remember making more drastic changes to WebSphere profiles - there is so much &quot;garbage&quot; there that using anything around JavaEE (JAX-WS, JAXP, JAX-RS, even JSPs) must be preceded with &quot;clean up&quot; (setting strange environment entries such as DisableIBMJAXWSEngine in MANIFEST.MF, putting some JARS to &quot;endorsed&quot; or &quot;ext&quot; dirs, even removing some JARs).&lt;/p&gt;

&lt;p&gt;regards&lt;br/&gt;
Grzegorz Grzybek&lt;/p&gt;</comment>
                            <comment id="13823920" author="gzres" created="Fri, 15 Nov 2013 18:39:33 +0000"  >&lt;p&gt;By the way, Sergey - why the dependecy on &lt;tt&gt;javax.ws.rs:javax.ws.rs-api:2.0-m10&lt;/tt&gt; instead of final &lt;tt&gt;2.0&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="13824054" author="vbalana" created="Fri, 15 Nov 2013 20:25:59 +0000"  >&lt;p&gt;Alright Grzegorz, I tried Shared Library and it worked fine with CXF 2.7.7.&lt;br/&gt;
I would like to share though that I didn&apos;t place XmlSchema 2.0.3 in shared library reference. I only had to put javax.ws.rs-api:2.0-m10 to generate WADL.&lt;/p&gt;

&lt;p&gt;Thanks again for all your time Grzegorz!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358636</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pto7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358926</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>