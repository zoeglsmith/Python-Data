<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat May 27 09:45:19 UTC 2023

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-5246] Conflicting schema namespaces for services with same set of schema classes</title>
                <link>https://issues.apache.org/jira/browse/CXF-5246</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;In case of services, which have the exact same set of schema classes, it may occur that the generated schema namespace of the server service is different from the generated schema namespace of the client service, depending on the order of their initialization. This can result in non-functioning services (see attached sample project). &lt;/p&gt;

&lt;p&gt;Errors like this occur:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;javax.xml.bind.UnmarshalException: unknown type name: {http:&lt;span class=&quot;code-comment&quot;&gt;//bar.service/}barName. Did you mean {http://foo.service/}barName?&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The cause is the caching of schemas in &lt;tt&gt;JAXBDatabinding&lt;/tt&gt;, which will reuse a schema if the set of &lt;tt&gt;contextClasses&lt;/tt&gt; are equal (see method &lt;tt&gt;JAXBDatabinding.createJAXBContextAndSchemas()&lt;/tt&gt; and class &lt;tt&gt;JAXBContextCache&lt;/tt&gt;). The problem is that it will use the package of the current service as the target namespace for the schema. So it may happen that the target namespaces differ between client and server side, depending on the order of initialization of the services which have an equal set of schema classes.&lt;/p&gt;

&lt;p&gt;Our current workaround for this problem is to specify equal target namespaces (e.g. by setting &lt;tt&gt;@WebService(targetNamespace = &quot;http://reused.target.namespace&quot;)&lt;/tt&gt;) for the affected services so the order of their initialization does not matter anymore.&lt;/p&gt;

&lt;p&gt;Another workaround could be to give each service an individual DataBinding without overlapping schema types. But that would require extra coding effort on server and client side.&lt;/p&gt;

&lt;p&gt;Maybe you could change the key of the &lt;tt&gt;JAXBCONTEXT_CACHE&lt;/tt&gt; map in the &lt;tt&gt;JAXBContextCache&lt;/tt&gt; class to also contain the target namespace (or the schema class) so different services would get different schemas.&lt;/p&gt;</description>
                <environment>&lt;p&gt;CXF Services with JAXB Databinding&lt;/p&gt;</environment>
        <key id="12666280">CXF-5246</key>
            <summary>Conflicting schema namespaces for services with same set of schema classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="kai.stapel">Kai Stapel</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Aug 2013 09:26:26 +0000</created>
                <updated>Fri, 27 Sep 2013 18:18:13 +0000</updated>
                            <resolved>Fri, 6 Sep 2013 07:04:35 +0000</resolved>
                                    <version>2.7.6</version>
                                    <fixVersion>2.6.10</fixVersion>
                    <fixVersion>2.7.7</fixVersion>
                    <fixVersion>3.0.0-milestone1</fixVersion>
                                    <component>JAXB Databinding</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13754527" author="kai.stapel" created="Fri, 30 Aug 2013 09:29:17 +0000"  >&lt;p&gt;Attached sample maven (Eclipse) project which will show the problem when running the server (e.g. in a Tomcat) and then executing the client &lt;tt&gt;FooBarClient&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The problem is also visible when viewing the WSDLs (see &lt;tt&gt;targetNamespace&lt;/tt&gt; of the &lt;tt&gt;schema&lt;/tt&gt; element):&lt;br/&gt;
&lt;tt&gt;&lt;a href=&quot;http://localhost:8080/cfx-wrong-namespace/services/BarService?wsdl&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/cfx-wrong-namespace/services/BarService?wsdl&lt;/a&gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&lt;a href=&quot;http://localhost:8080/cfx-wrong-namespace/services/FooService?wsdl&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/cfx-wrong-namespace/services/FooService?wsdl&lt;/a&gt;&lt;/tt&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12600753" name="cfx-wrong-namespace.zip" size="9927" author="kai.stapel" created="Fri, 30 Aug 2013 09:29:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>346219</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1npb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>346520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>