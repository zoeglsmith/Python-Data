<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat May 27 09:44:25 UTC 2023

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7628] JMX mbean &apos;Thread Pools&apos; and &apos;Connectors&apos; for Jetty are not registered if CXF endpoint is configured with engine-factory element having threadingParameters.</title>
                <link>https://issues.apache.org/jira/browse/CXF-7628</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Unzip project reproducer_02005132.zip.&lt;/li&gt;
	&lt;li&gt;Extract it and build it using `mvn clean install`.&lt;/li&gt;
	&lt;li&gt;Deploy it with Red Hat JBoss Fuse 6.3.0 environment using command
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
osgi:install -s mvn:org.jboss.quickstarts.fuse/cxf-camel-cxf-code-first-1/6.3.0.redhat-310
features:install jolokia
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;We can see this on Hawtio GUI for Jetty Tab within Hawtio -&amp;gt; Jetty -&amp;gt; Thread Pools.&lt;/li&gt;
	&lt;li&gt;We can even check using below jolokia request.&lt;/li&gt;
	&lt;li&gt;Now if we execute below jolokia request, we don&apos;t find the threading details for the CXF endpoint.
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[cpandey@cpandey bin]$ curl -H &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type: application/json&quot;&lt;/span&gt; -X POST http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8181/jolokia -d &lt;span class=&quot;code-quote&quot;&gt;&apos;\{&lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;read&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;mbean&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jetty.util.thread:type=queuedthreadpool,*&quot;&lt;/span&gt;}&apos;&lt;/span&gt; --user admin:admin|jq
&lt;/span&gt; % Total % Received % Xferd Average Speed Time Time Time Current
 Dload Upload Total Spent Left Speed
100 503 0 424 100 79 37952 7071 --:--:-- --:--:-- --:--:-- 38545
{
 &lt;span class=&quot;code-quote&quot;&gt;&quot;request&quot;&lt;/span&gt;: {
 &lt;span class=&quot;code-quote&quot;&gt;&quot;mbean&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jetty.util.thread:type=queuedthreadpool,*&quot;&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;read&quot;&lt;/span&gt;
 },
 &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;: {
 &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jetty.util.thread:id=0,type=queuedthreadpool&quot;&lt;/span&gt;: {
 &lt;span class=&quot;code-quote&quot;&gt;&quot;threadsPriority&quot;&lt;/span&gt;: 5,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;lowOnThreads&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;queueSize&quot;&lt;/span&gt;: 0,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;stopTimeout&quot;&lt;/span&gt;: 5000,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;minThreads&quot;&lt;/span&gt;: 8,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;threads&quot;&lt;/span&gt;: 8,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;daemon&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;busyThreads&quot;&lt;/span&gt;: 6,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;idleTimeout&quot;&lt;/span&gt;: 60000,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;qtp1594445918&quot;&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;idleThreads&quot;&lt;/span&gt;: 2,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;STARTED&quot;&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;maxThreads&quot;&lt;/span&gt;: 200
 }
 },
 &lt;span class=&quot;code-quote&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;: 1516807021,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;: 200
}
[cpandey@cpandey bin]$ 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;However, if we deploy CXF application without threadingParameters and httpj:engine-factory element, than we can see the entry registered.
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[cpandey@cpandey bin]$ curl -H &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type: application/json&quot;&lt;/span&gt; -X POST http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8181/jolokia -d &lt;span class=&quot;code-quote&quot;&gt;&apos;\{&lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;read&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;mbean&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jetty.util.thread:type=queuedthreadpool,*&quot;&lt;/span&gt;}&apos;&lt;/span&gt; --user admin:admin|jq
&lt;/span&gt; % Total % Received % Xferd Average Speed Time Time Time Current
 Dload Upload Total Spent Left Speed
100 1077 0 998 100 79 53884 4265 --:--:-- --:--:-- --:--:-- 55444
{
 &lt;span class=&quot;code-quote&quot;&gt;&quot;request&quot;&lt;/span&gt;: {
 &lt;span class=&quot;code-quote&quot;&gt;&quot;mbean&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jetty.util.thread:type=queuedthreadpool,*&quot;&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;read&quot;&lt;/span&gt;
 },
 &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;: {
 &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jetty.util.thread:id=1,type=queuedthreadpool&quot;&lt;/span&gt;: {
 &lt;span class=&quot;code-quote&quot;&gt;&quot;threadsPriority&quot;&lt;/span&gt;: 5,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;lowOnThreads&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;queueSize&quot;&lt;/span&gt;: 0,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;stopTimeout&quot;&lt;/span&gt;: 30000,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;minThreads&quot;&lt;/span&gt;: 8,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;threads&quot;&lt;/span&gt;: 8,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;daemon&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;busyThreads&quot;&lt;/span&gt;: 8,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;idleTimeout&quot;&lt;/span&gt;: 60000,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;qtp313139408&quot;&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;idleThreads&quot;&lt;/span&gt;: 0,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;STOPPED&quot;&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;maxThreads&quot;&lt;/span&gt;: 200
 },
 &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jetty.util.thread:id=2,type=queuedthreadpool&quot;&lt;/span&gt;: {
 &lt;span class=&quot;code-quote&quot;&gt;&quot;threadsPriority&quot;&lt;/span&gt;: 5,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;lowOnThreads&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;queueSize&quot;&lt;/span&gt;: 0,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;stopTimeout&quot;&lt;/span&gt;: 30000,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;minThreads&quot;&lt;/span&gt;: 8,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;threads&quot;&lt;/span&gt;: 8,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;daemon&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;busyThreads&quot;&lt;/span&gt;: 5,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;idleTimeout&quot;&lt;/span&gt;: 60000,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;qtp522528762&quot;&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;idleThreads&quot;&lt;/span&gt;: 3,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;STARTED&quot;&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;maxThreads&quot;&lt;/span&gt;: 200
 },
 &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jetty.util.thread:id=0,type=queuedthreadpool&quot;&lt;/span&gt;: {
 &lt;span class=&quot;code-quote&quot;&gt;&quot;threadsPriority&quot;&lt;/span&gt;: 5,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;lowOnThreads&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;queueSize&quot;&lt;/span&gt;: 0,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;stopTimeout&quot;&lt;/span&gt;: 5000,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;minThreads&quot;&lt;/span&gt;: 8,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;threads&quot;&lt;/span&gt;: 8,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;daemon&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;busyThreads&quot;&lt;/span&gt;: 6,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;idleTimeout&quot;&lt;/span&gt;: 60000,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;qtp1594445918&quot;&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;idleThreads&quot;&lt;/span&gt;: 2,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;STARTED&quot;&lt;/span&gt;,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;maxThreads&quot;&lt;/span&gt;: 200
 }
 },
 &lt;span class=&quot;code-quote&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;: 1516807327,
 &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;: 200
}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;ALL&lt;/p&gt;</environment>
        <key id="13135443">CXF-7628</key>
            <summary>JMX mbean &apos;Thread Pools&apos; and &apos;Connectors&apos; for Jetty are not registered if CXF endpoint is configured with engine-factory element having threadingParameters.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="chandra_shekhar">chandra shekhar pandey</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Feb 2018 14:35:29 +0000</created>
                <updated>Wed, 7 Feb 2018 14:52:07 +0000</updated>
                            <resolved>Fri, 2 Feb 2018 02:29:11 +0000</resolved>
                                    <version>3.2.1</version>
                                    <fixVersion>3.2.2</fixVersion>
                                    <component>OSGi</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16348681" author="githubbot" created="Thu, 1 Feb 2018 14:53:32 +0000"  >&lt;p&gt;1984shekhar opened a new pull request #374: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7628&quot; title=&quot;JMX mbean &amp;#39;Thread Pools&amp;#39; and &amp;#39;Connectors&amp;#39; for Jetty are not registered if CXF endpoint is configured with engine-factory element having threadingParameters.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7628&quot;&gt;&lt;del&gt;CXF-7628&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/374&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/374&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Enable JMX connector and threading-parameters mbeans for endpoints with custom threading parameters configured in blueprint xml.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16348686" author="githubbot" created="Thu, 1 Feb 2018 14:55:37 +0000"  >&lt;p&gt;1984shekhar commented on issue #374: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7628&quot; title=&quot;JMX mbean &amp;#39;Thread Pools&amp;#39; and &amp;#39;Connectors&amp;#39; for Jetty are not registered if CXF endpoint is configured with engine-factory element having threadingParameters.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7628&quot;&gt;&lt;del&gt;CXF-7628&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/374#issuecomment-362290187&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/374#issuecomment-362290187&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   There are multiple commit which are unnecessary.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16348687" author="githubbot" created="Thu, 1 Feb 2018 14:55:38 +0000"  >&lt;p&gt;1984shekhar closed pull request #374: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7628&quot; title=&quot;JMX mbean &amp;#39;Thread Pools&amp;#39; and &amp;#39;Connectors&amp;#39; for Jetty are not registered if CXF endpoint is configured with engine-factory element having threadingParameters.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7628&quot;&gt;&lt;del&gt;CXF-7628&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/374&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/374&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/rt/transports/http-jetty/src/main/java/org/apache/cxf/transport/http_jetty/blueprint/JettyHTTPServerEngineFactoryHolder.java b/rt/transports/http-jetty/src/main/java/org/apache/cxf/transport/http_jetty/blueprint/JettyHTTPServerEngineFactoryHolder.java&lt;br/&gt;
index ea5ea420847..9c9e2cc5ab8 100644&lt;br/&gt;
&amp;#8212; a/rt/transports/http-jetty/src/main/java/org/apache/cxf/transport/http_jetty/blueprint/JettyHTTPServerEngineFactoryHolder.java&lt;br/&gt;
+++ b/rt/transports/http-jetty/src/main/java/org/apache/cxf/transport/http_jetty/blueprint/JettyHTTPServerEngineFactoryHolder.java&lt;br/&gt;
@@ -33,6 +33,8 @@&lt;/p&gt;

&lt;p&gt; import org.w3c.dom.Element;&lt;/p&gt;

&lt;p&gt;+import org.apache.cxf.Bus;&lt;br/&gt;
+import org.apache.cxf.BusFactory;&lt;br/&gt;
 import org.apache.cxf.common.jaxb.JAXBContextCache;&lt;br/&gt;
 import org.apache.cxf.common.jaxb.JAXBUtils;&lt;br/&gt;
 import org.apache.cxf.common.logging.LogUtils;&lt;br/&gt;
@@ -77,7 +79,8 @@ public void init() {&lt;br/&gt;
                 = getJaxbObject(element,&lt;br/&gt;
                 JettyHTTPServerEngineFactoryConfigType.class);&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;factory = new JettyHTTPServerEngineFactory();&lt;br/&gt;
+            Bus defaultBus = BusFactory.getDefaultBus();&lt;br/&gt;
+            factory = new JettyHTTPServerEngineFactory(defaultBus);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;             Map&amp;lt;String, ThreadingParameters&amp;gt; threadingParametersMap&lt;br/&gt;
                 = new TreeMap&amp;lt;String, ThreadingParameters&amp;gt;();&lt;br/&gt;
@@ -114,7 +117,8 @@ public void init() {&lt;/p&gt;

&lt;p&gt;             List&amp;lt;JettyHTTPServerEngine&amp;gt; engineList = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;
             for (JettyHTTPServerEngineConfigType engine : config.getEngine()) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;JettyHTTPServerEngine eng = new JettyHTTPServerEngine();&lt;br/&gt;
+                JettyHTTPServerEngine eng = new JettyHTTPServerEngine(&lt;br/&gt;
+                        factory.getMBeanContainer(), engine.getHost(), engine.getPort());&lt;br/&gt;
                 if (engine.getConnector() != null &amp;amp;&amp;amp; connectorMap != null) {&lt;br/&gt;
                     // we need to setup the Connector from the connectorMap&lt;br/&gt;
                     Connector connector = connectorMap.get(engine.getPort().toString());&lt;/li&gt;
&lt;/ul&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16348732" author="githubbot" created="Thu, 1 Feb 2018 15:22:32 +0000"  >&lt;p&gt;1984shekhar opened a new pull request #375: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7628&quot; title=&quot;JMX mbean &amp;#39;Thread Pools&amp;#39; and &amp;#39;Connectors&amp;#39; for Jetty are not registered if CXF endpoint is configured with engine-factory element having threadingParameters.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7628&quot;&gt;&lt;del&gt;CXF-7628&lt;/del&gt;&lt;/a&gt; Enable JMX threading parameters for cxf endpoints in blueprint.&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/375&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/375&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Enable JMX connector and ThreadingParameters mbean for cxf webservice&lt;br/&gt;
   created with custom threading parameters in blueprint.xml.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16349686" author="githubbot" created="Fri, 2 Feb 2018 02:26:31 +0000"  >&lt;p&gt;ffang closed pull request #375: &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-7628&quot; title=&quot;JMX mbean &amp;#39;Thread Pools&amp;#39; and &amp;#39;Connectors&amp;#39; for Jetty are not registered if CXF endpoint is configured with engine-factory element having threadingParameters.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-7628&quot;&gt;&lt;del&gt;CXF-7628&lt;/del&gt;&lt;/a&gt; Enable JMX threading parameters for cxf endpoints in blueprint.&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/cxf/pull/375&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cxf/pull/375&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/rt/transports/http-jetty/src/main/java/org/apache/cxf/transport/http_jetty/blueprint/JettyHTTPServerEngineFactoryHolder.java b/rt/transports/http-jetty/src/main/java/org/apache/cxf/transport/http_jetty/blueprint/JettyHTTPServerEngineFactoryHolder.java&lt;br/&gt;
index ea5ea420847..9c9e2cc5ab8 100644&lt;br/&gt;
&amp;#8212; a/rt/transports/http-jetty/src/main/java/org/apache/cxf/transport/http_jetty/blueprint/JettyHTTPServerEngineFactoryHolder.java&lt;br/&gt;
+++ b/rt/transports/http-jetty/src/main/java/org/apache/cxf/transport/http_jetty/blueprint/JettyHTTPServerEngineFactoryHolder.java&lt;br/&gt;
@@ -33,6 +33,8 @@&lt;/p&gt;

&lt;p&gt; import org.w3c.dom.Element;&lt;/p&gt;

&lt;p&gt;+import org.apache.cxf.Bus;&lt;br/&gt;
+import org.apache.cxf.BusFactory;&lt;br/&gt;
 import org.apache.cxf.common.jaxb.JAXBContextCache;&lt;br/&gt;
 import org.apache.cxf.common.jaxb.JAXBUtils;&lt;br/&gt;
 import org.apache.cxf.common.logging.LogUtils;&lt;br/&gt;
@@ -77,7 +79,8 @@ public void init() {&lt;br/&gt;
                 = getJaxbObject(element,&lt;br/&gt;
                 JettyHTTPServerEngineFactoryConfigType.class);&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;factory = new JettyHTTPServerEngineFactory();&lt;br/&gt;
+            Bus defaultBus = BusFactory.getDefaultBus();&lt;br/&gt;
+            factory = new JettyHTTPServerEngineFactory(defaultBus);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;             Map&amp;lt;String, ThreadingParameters&amp;gt; threadingParametersMap&lt;br/&gt;
                 = new TreeMap&amp;lt;String, ThreadingParameters&amp;gt;();&lt;br/&gt;
@@ -114,7 +117,8 @@ public void init() {&lt;/p&gt;

&lt;p&gt;             List&amp;lt;JettyHTTPServerEngine&amp;gt; engineList = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;
             for (JettyHTTPServerEngineConfigType engine : config.getEngine()) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;JettyHTTPServerEngine eng = new JettyHTTPServerEngine();&lt;br/&gt;
+                JettyHTTPServerEngine eng = new JettyHTTPServerEngine(&lt;br/&gt;
+                        factory.getMBeanContainer(), engine.getHost(), engine.getPort());&lt;br/&gt;
                 if (engine.getConnector() != null &amp;amp;&amp;amp; connectorMap != null) {&lt;br/&gt;
                     // we need to setup the Connector from the connectorMap&lt;br/&gt;
                     Connector connector = connectorMap.get(engine.getPort().toString());&lt;/li&gt;
&lt;/ul&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16349688" author="ffang" created="Fri, 2 Feb 2018 02:28:57 +0000"  >&lt;p&gt;patch applied on behalf of chandra shekhar with thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12908819" name="reproducer.zip" size="10658" author="chandra_shekhar" created="Thu, 1 Feb 2018 14:36:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3pno7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>