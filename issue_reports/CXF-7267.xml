<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat May 27 09:44:45 UTC 2023

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-7267] Member names must match bean attribute for BeanParam to work</title>
                <link>https://issues.apache.org/jira/browse/CXF-7267</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;I just ran into this problem on my first attempt to use &lt;tt&gt;@BeanParam&lt;/tt&gt; and got this exception:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.IllegalArgumentException: Unresolved variables; only 0 value(s) given for 2 unique variable(s)
	at org.apache.cxf.jaxrs.impl.UriBuilderImpl.substituteVarargs(UriBuilderImpl.java:285)
	at org.apache.cxf.jaxrs.impl.UriBuilderImpl.doBuildUriParts(UriBuilderImpl.java:121)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;My parameter bean looked like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.recommind.common.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.ws.rs.PathParam;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ApplicationIdentifierParameter
{

  @PathParam(&lt;span class=&quot;code-quote&quot;&gt;&quot;applicationId&quot;&lt;/span&gt;)
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; mApplicationId;

  @PathParam(&lt;span class=&quot;code-quote&quot;&gt;&quot;projectId&quot;&lt;/span&gt;)
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; mProjectId;

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getApplicationId()
  {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; mApplicationId;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setApplicationId(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; aApplicationId)
  {
    mApplicationId = aApplicationId;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getProjectId()
  {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; mProjectId;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setProjectId(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; aProjectId)
  {
    mProjectId = aProjectId;
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I debugged &lt;tt&gt;UriBuilderImpl&lt;/tt&gt; and found that in &lt;tt&gt;ClientProxyImpl:514&lt;/tt&gt; the to be evaluated members are identified by the names of the corresponding setters.&lt;/p&gt;

&lt;p&gt;I think this is wrong - or at least inconvenient - as it is totally valid for a bean&apos;s internals fields to have different names than the corresponding bean attribute. To my knowledge the Bean spec only requires setters and getters to match and does not care about the internal representation of the attributes.&lt;/p&gt;

&lt;p&gt;Rather than looking at the setters &lt;tt&gt;ClientProxyImpl&lt;/tt&gt; should iterate over the bean&apos;s fields, look for fields annotated with &lt;tt&gt;@PathParam&lt;/tt&gt; and update the field using reflection.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Workaround:&lt;/b&gt;&lt;br/&gt;
Annotate the setters with the &lt;tt&gt;@XXXParam&lt;/tt&gt; annotations.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13048459">CXF-7267</key>
            <summary>Member names must match bean attribute for BeanParam to work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey_beryozkin">Sergey Beryozkin</assignee>
                                    <reporter username="daniel@peger.de">Daniel H. Peger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Mar 2017 08:47:38 +0000</created>
                <updated>Mon, 10 Apr 2017 19:04:39 +0000</updated>
                            <resolved>Fri, 24 Mar 2017 15:45:26 +0000</resolved>
                                    <version>3.1.4</version>
                                    <fixVersion>3.1.11</fixVersion>
                    <fixVersion>3.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15897038" author="sergey_beryozkin" created="Mon, 6 Mar 2017 10:20:28 +0000"  >&lt;p&gt;Hi, what you qualified as a workaround is a preferred solution. On the client side there must be a setter available for a given bean param property, having a bean with some private property without the setter which would set it is not a proper Java bean style, and when you have the setter then either set the annotation on this setter or if you prefer set them on the fields then make sure there is a match - IDEs do that so there&apos;s nothing unusual in the fact that a match is sought.&lt;/p&gt;

&lt;p&gt;Note on the server side I&apos;m not enforcing it, but having to start deeply iterating over filelds and start reflectively injecting them on &lt;b&gt;every&lt;/b&gt; client proxy call is expensive, the basic match constraint in case of the annotations being only on the fields was all about the optimization and with the client proxy API being not standard it is reasonable IMHO &lt;/p&gt;</comment>
                            <comment id="15897178" author="daniel@peger.de" created="Mon, 6 Mar 2017 12:07:28 +0000"  >&lt;p&gt;Giving it a second though, you&apos;re probably right. There need to be accessors for the fields and one somehow needs to link the methods to the fields, if the field is annotated. But maybe you could enhance the logging to some extend by putting out a warning, if you encountered an annotated field without a matching accessor. As this restriction is not obvious and not documented (at least I did not find any corresponding resources), it is somewhat hard to figure out what is going wrong. And debugging CXF to know how to do things right, should only be the very last resort.&lt;/p&gt;</comment>
                            <comment id="15897436" author="sergey_beryozkin" created="Mon, 6 Mar 2017 14:53:53 +0000"  >&lt;p&gt;Well in the end I decided to relax it a bit and fix it, the setters must still be available just to have a bean style supported, but if no match between a setter name and a field name is found then there will be the last branch running checking all the fields. I suppose there indeed could be cases where due to the naming conventions/preferences or when 3rd party library beans are used, when no match can be found. There&apos;ve been a number of issues reported specifically around this restriction over the last few years, so I guess the time has come just to get it fixed; though I&apos;d recommend, if one has such an option, just to make the match work or annotate the methods which will be faster...&lt;/p&gt;

&lt;p&gt;thanks  &lt;/p&gt;</comment>
                            <comment id="15898822" author="daniel@peger.de" created="Tue, 7 Mar 2017 06:32:37 +0000"  >&lt;p&gt;Thanks for looking into it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3azhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>