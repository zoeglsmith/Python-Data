<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat May 27 09:46:24 UTC 2023

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-1504] AegisDataBinding throws NullPointer with un-prefixed Namespace</title>
                <link>https://issues.apache.org/jira/browse/CXF-1504</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;When dealing with Complex types (i.e. non-primitives), AegisDatabinding throws a NullPointer exception &lt;span class=&quot;error&quot;&gt;&amp;#91;in NamespaceHelper.getPrefix() &amp;#93;&lt;/span&gt; when I but it works perfectly fine when I use JAXB (see the &quot;comment me to use JAXB&quot; line in the server &amp;amp; client). It should default to a prefix e.g. ns0.&lt;/p&gt;

&lt;p&gt;First, here is the stacktrace:&lt;/p&gt;

&lt;p&gt;Apr 6, 2008 2:06:05 AM org.apache.cxf.service.factory.ReflectionServiceFactoryBean buildServiceFromClass&lt;br/&gt;
INFO: Creating Service &lt;/p&gt;
{http://education.toorosystems.com/}
&lt;p&gt;University from class com.toorosystems.education.University&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.NullPointerException&lt;br/&gt;
    at org.apache.cxf.aegis.util.NamespaceHelper.getPrefix(NamespaceHelper.java:71)&lt;br/&gt;
    at org.apache.cxf.aegis.util.NamespaceHelper.getUniquePrefix(NamespaceHelper.java:57)&lt;br/&gt;
    at org.apache.cxf.aegis.type.basic.BeanType.getNameWithPrefix(BeanType.java:533)&lt;br/&gt;
    at org.apache.cxf.aegis.type.basic.BeanType.writeSchema(BeanType.java:483)&lt;br/&gt;
    at org.apache.cxf.aegis.databinding.AegisDatabinding.createSchemas(AegisDatabinding.java:477)&lt;br/&gt;
    at org.apache.cxf.aegis.databinding.AegisDatabinding.initialize(AegisDatabinding.java:322)&lt;br/&gt;
    at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.buildServiceFromClass(ReflectionServiceFactoryBean.java:343)&lt;br/&gt;
    at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.initializeServiceModel(ReflectionServiceFactoryBean.java:392)&lt;br/&gt;
    at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.create(ReflectionServiceFactoryBean.java:180)&lt;br/&gt;
    at org.apache.cxf.frontend.AbstractWSDLBasedEndpointFactory.createEndpoint(AbstractWSDLBasedEndpointFactory.java:79)&lt;br/&gt;
    at org.apache.cxf.frontend.ServerFactoryBean.create(ServerFactoryBean.java:113)&lt;br/&gt;
    at com.toorosystems.education.Server.main(Server.java:19)&lt;/p&gt;

&lt;p&gt;To reproduce:&lt;br/&gt;
I had 2 beans, the interface and the implementation, the server &amp;amp; the client (all in the same package). &lt;/p&gt;

&lt;p&gt;The model:&lt;br/&gt;
a) The beans:&lt;br/&gt;
1. Course &lt;span class=&quot;error&quot;&gt;&amp;#91;id (long), name &amp;amp; description; their getters and setters, + 2 constructors: (no-arg &amp;amp; all-arg)&amp;#93;&lt;/span&gt;&lt;br/&gt;
2. Teacher &lt;span class=&quot;error&quot;&gt;&amp;#91;age (int), name, department; their getters/setters, + 2 constructors (no-arg &amp;amp; all-arg i.e. Course(int age, String name, String dept)&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;b) The interface:&lt;br/&gt;
package com.toorosystems.education;&lt;/p&gt;

&lt;p&gt;import javax.jws.WebService;&lt;br/&gt;
import javax.jws.soap.SOAPBinding;&lt;br/&gt;
import javax.jws.WebMethod;&lt;br/&gt;
import javax.jws.WebResult;&lt;br/&gt;
import javax.jws.WebParam;&lt;/p&gt;

&lt;p&gt;@WebService(name=&quot;University&quot;, targetNamespace=&quot;http://education.toorosystems.com/&quot;)&lt;br/&gt;
@SOAPBinding(use=SOAPBinding.Use.LITERAL, style=SOAPBinding.Style.DOCUMENT, parameterStyle=SOAPBinding.ParameterStyle.BARE)&lt;br/&gt;
public interface University {&lt;/p&gt;

&lt;p&gt;    @WebResult(targetNamespace=&quot;http://education.toorosystems.com/&quot;, name=&quot;return&quot;, partName=&quot;return&quot;)&lt;br/&gt;
    @WebMethod(operationName=&quot;getTeacher&quot;, exclude=false)&lt;br/&gt;
    public Teacher getTeacher(@WebParam(targetNamespace=&quot;http://education.toorosystems.com/&quot;, name=&quot;course&quot;, mode=WebParam.Mode.IN)&lt;br/&gt;
    Course course);&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;c) The implementation&lt;br/&gt;
package com.toorosystems.education;&lt;/p&gt;

&lt;p&gt;import javax.xml.ws.WebServiceClient;&lt;/p&gt;

&lt;p&gt;//@WebServiceClient(name=&quot;com.toorosystems.education.UniversityImpl&quot;, targetNamespace=&quot;http://education.toorosystems.com/&quot;)&lt;br/&gt;
public class UniversityImpl implements University {&lt;/p&gt;

&lt;p&gt;    public UniversityImpl() {}&lt;br/&gt;
    public Teacher getTeacher(Course course) &lt;/p&gt;
{
        System.out.println(&quot;getTeacher called...&quot;);
        return new Teacher(&quot;Mr. Tom&quot;, 52, &quot;Computer Science&quot; + course.getName());
    }

&lt;p&gt;}&lt;/p&gt;


&lt;p&gt;d) The Server&lt;br/&gt;
package com.toorosystems.education;&lt;/p&gt;

&lt;p&gt;import org.apache.cxf.aegis.databinding.AegisDatabinding;&lt;br/&gt;
import org.apache.cxf.frontend.ServerFactoryBean;&lt;/p&gt;

&lt;p&gt;public class Server {&lt;/p&gt;

&lt;p&gt;    public static void main(String[] args) &lt;/p&gt;
{
        // Create our service implementation
        System.out.println(&quot;Starting server ...&quot;);
        ServerFactoryBean svrFactory = new ServerFactoryBean();
        svrFactory.setServiceClass(University.class);
        svrFactory.setAddress(&quot;http://localhost:9090/TV&quot;);
        svrFactory.setServiceBean(new UniversityImpl());
       
        // comment me to use JAXB
        svrFactory.getServiceFactory().setDataBinding(new AegisDatabinding());
       
        svrFactory.create();
        System.out.println(&quot;Server started!&quot;);
    }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;e) The client&lt;br/&gt;
package com.toorosystems.education;&lt;/p&gt;

&lt;p&gt;import org.apache.cxf.aegis.databinding.AegisDatabinding;&lt;br/&gt;
import org.apache.cxf.frontend.ClientProxyFactoryBean;&lt;/p&gt;

&lt;p&gt;public class Client {&lt;/p&gt;

&lt;p&gt;    public static void main(String[] args) &lt;/p&gt;
{
        // see http://cwiki.apache.org/CXF20DOC/introduction-to-aegis-21.html
        ClientProxyFactoryBean factory = new ClientProxyFactoryBean();
        // comment me to use JAXB
        factory.getServiceFactory().setDataBinding(new AegisDatabinding());
       
        factory.setServiceClass(University.class);
        factory.setAddress(&quot;http://localhost:9090/TV&quot;);
        University client = (University) factory.create();
       
        Teacher tr = client.getTeacher(new Course(40, &quot;Intro to CS&quot;, &quot;Introductory Comp Sci&quot;));
        System.out.println(&quot;Response is: &quot; + tr.getName() + &quot;, &quot; + tr.getAge() + &quot;, &quot; + tr.getDepartment());
    }
&lt;p&gt;}&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP, Eclipse Europa (3.3), Java 1.6&lt;/p&gt;</environment>
        <key id="12393268">CXF-1504</key>
            <summary>AegisDataBinding throws NullPointer with un-prefixed Namespace</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bmargulies">Benson Margulies</assignee>
                                    <reporter username="judethecutedude">Judes Tumuhairwe</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Apr 2008 17:37:03 +0000</created>
                <updated>Wed, 30 Apr 2008 14:57:19 +0000</updated>
                            <resolved>Sun, 6 Apr 2008 19:55:27 +0000</resolved>
                                    <version>2.1</version>
                                    <fixVersion>2.1</fixVersion>
                                    <component>Aegis Databinding</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12586174" author="bmargulies" created="Sun, 6 Apr 2008 19:55:27 +0000"  >&lt;p&gt;svn 645294. This appears to be a problem with doc/lit/bare versus Aegis.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>112300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0v3yf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>179614</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>