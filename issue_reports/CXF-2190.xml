<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat May 27 09:45:57 UTC 2023

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-2190] Invalid message sent using Dispatch</title>
                <link>https://issues.apache.org/jira/browse/CXF-2190</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;We&apos;re running this Dispatch client using CXF 2.2.1:&lt;/p&gt;

&lt;p&gt;      URL wsdlURL = new URL(&quot;http://&quot; + getServerHost() + &quot;:8080/jaxws-jbws1611?wsdl&quot;);&lt;br/&gt;
      QName serviceName = new QName(targetNS, &quot;PingEndpointService&quot;);&lt;br/&gt;
      QName portName = new QName(targetNS, &quot;PingEndpointPort&quot;);&lt;br/&gt;
      Service service = Service.create(wsdlURL, serviceName);&lt;br/&gt;
      Dispatch dispatch = service.createDispatch(portName, Source.class, Mode.PAYLOAD);&lt;br/&gt;
      dispatch.getRequestContext().put(BindingProvider.SOAPACTION_USE_PROPERTY, true);&lt;br/&gt;
      dispatch.getRequestContext().put(BindingProvider.SOAPACTION_URI_PROPERTY, &quot;uri:placeBuyOrder&quot;);&lt;br/&gt;
      String payload = &quot;&amp;lt;ns1:ping xmlns:ns1=&apos;&quot; + targetNS + &quot;&apos;/&amp;gt;&quot;;&lt;br/&gt;
      Source retObj = (Source)dispatch.invoke(new StreamSource(new StringReader(payload)));&lt;/p&gt;

&lt;p&gt;and we get this exception on server side:&lt;/p&gt;

&lt;p&gt;org.apache.cxf.interceptor.Fault: Message part &lt;/p&gt;
{http://cxf.apache.org/jaxws/dispatch}
&lt;p&gt;Invoke was not recognized.  (Does it exist in service WSDL?)&lt;br/&gt;
	at org.apache.cxf.interceptor.BareInInterceptor.handleMessage(BareInInterceptor.java:133)&lt;br/&gt;
	at org.apache.cxf.binding.soap.interceptor.RPCInInterceptor.handleMessage(RPCInInterceptor.java:111)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:236)&lt;br/&gt;
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:89)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletDestination.invoke(ServletDestination.java:99)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:357)&lt;br/&gt;
	at org.jboss.wsf.stack.cxf.ServletControllerExt.invoke(ServletControllerExt.java:160)&lt;br/&gt;
	at org.jboss.wsf.stack.cxf.RequestHandlerImpl.handleHttpRequest(RequestHandlerImpl.java:61)&lt;br/&gt;
	at org.jboss.wsf.stack.cxf.CXFServletExt.service(CXFServletExt.java:134)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Capturing the message on the wire reveals the following message being sent:&lt;/p&gt;

&lt;p&gt;&amp;lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&amp;gt;&amp;lt;soap:Body&amp;gt;&amp;lt;ns1:Invoke xmlns:ns1=&quot;http://cxf.apache.org/jaxws/dispatch&quot;&amp;gt;&amp;lt;ns1:ping xmlns:ns1=&quot;http://jbws1611.jaxws.ws.test.jboss.org/&quot; /&amp;gt;&amp;lt;/ns1:Invoke&amp;gt;&amp;lt;/soap:Body&amp;gt;&amp;lt;/soap:Envelope&amp;gt;&lt;/p&gt;

&lt;p&gt;which contains the ns1:Invoke element causing the issue on server side.&lt;/p&gt;

&lt;p&gt;The WSDL of the service is:&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos;?&amp;gt;&amp;lt;wsdl:definitions name=&quot;PingEndpointService&quot; targetNamespace=&quot;http://jbws1611.jaxws.ws.test.jboss.org/&quot; xmlns:ns1=&quot;http://schemas.xmlsoap.org/wsdl/soap/http&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:tns=&quot;http://jbws1611.jaxws.ws.test.jboss.org/&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;wsdl:message name=&quot;ping&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;/wsdl:message&amp;gt;&lt;br/&gt;
  &amp;lt;wsdl:message name=&quot;pingResponse&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;wsdl:part name=&quot;return&quot; type=&quot;xsd:string&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;/wsdl:part&amp;gt;&lt;br/&gt;
  &amp;lt;/wsdl:message&amp;gt;&lt;br/&gt;
  &amp;lt;wsdl:portType name=&quot;PingEndpoint&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;wsdl:operation name=&quot;ping&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;      &amp;lt;wsdl:input message=&quot;tns:ping&quot; name=&quot;ping&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;/wsdl:input&amp;gt;&lt;br/&gt;
      &amp;lt;wsdl:output message=&quot;tns:pingResponse&quot; name=&quot;pingResponse&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;/wsdl:output&amp;gt;&lt;br/&gt;
    &amp;lt;/wsdl:operation&amp;gt;&lt;br/&gt;
  &amp;lt;/wsdl:portType&amp;gt;&lt;br/&gt;
  &amp;lt;wsdl:binding name=&quot;PingEndpointServiceSoapBinding&quot; type=&quot;tns:PingEndpoint&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;soap:binding style=&quot;rpc&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot; /&amp;gt;&lt;br/&gt;
    &amp;lt;wsdl:operation name=&quot;ping&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;      &amp;lt;soap:operation soapAction=&quot;&quot; style=&quot;rpc&quot; /&amp;gt;&lt;br/&gt;
      &amp;lt;wsdl:input name=&quot;ping&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;soap:body namespace=&quot;http://jbws1611.jaxws.ws.test.jboss.org/&quot; use=&quot;literal&quot; /&amp;gt;&lt;br/&gt;
      &amp;lt;/wsdl:input&amp;gt;&lt;br/&gt;
      &amp;lt;wsdl:output name=&quot;pingResponse&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;soap:body namespace=&quot;http://jbws1611.jaxws.ws.test.jboss.org/&quot; use=&quot;literal&quot; /&amp;gt;&lt;br/&gt;
      &amp;lt;/wsdl:output&amp;gt;&lt;br/&gt;
    &amp;lt;/wsdl:operation&amp;gt;&lt;br/&gt;
  &amp;lt;/wsdl:binding&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;wsdl:service name=&quot;PingEndpointService&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;wsdl:port binding=&quot;tns:PingEndpointServiceSoapBinding&quot; name=&quot;PingEndpointPort&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;soap:address location=&quot;http://127.0.0.1:8080/jaxws-jbws1611&quot; /&amp;gt;&lt;br/&gt;
    &amp;lt;/wsdl:port&amp;gt;&lt;br/&gt;
  &amp;lt;/wsdl:service&amp;gt;&lt;br/&gt;
&amp;lt;/wsdl:definitions&amp;gt;&lt;/p&gt;

&lt;p&gt;Please note this is happening starting from CXF 2.2.1 (no issue with 2.2) and the wsdl is RPC/Lit while all tests with Dispatch in the systests seem to be with DOC/Lit contract services.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12423879">CXF-2190</key>
            <summary>Invalid message sent using Dispatch</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="asoldano">Alessio Soldano</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Apr 2009 11:56:03 +0000</created>
                <updated>Thu, 4 Jun 2009 21:32:56 +0000</updated>
                            <resolved>Thu, 7 May 2009 19:04:47 +0000</resolved>
                                    <version>2.2.1</version>
                                    <fixVersion>2.2.2</fixVersion>
                                    <component>JAX-WS Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12703087" author="asoldano" created="Mon, 27 Apr 2009 11:58:30 +0000"  >&lt;p&gt;I think this is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-1907&quot; title=&quot;Refactor JAX-WS Dispatch clients....&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-1907&quot;&gt;&lt;del&gt;CXF-1907&lt;/del&gt;&lt;/a&gt; which, despite being still open, includes changes that went to 2.2.1 (at least that&apos;s what seems to me).&lt;/p&gt;</comment>
                            <comment id="12704573" author="asoldano" created="Thu, 30 Apr 2009 10:53:32 +0000"  >&lt;p&gt;Trying to workaround this, I think I&apos;ve found another issue.&lt;br/&gt;
To workaround this issue, I added a handler on client side that simply removes the &lt;/p&gt;
{http://cxf.apache.org/jaxws/dispatch}
&lt;p&gt;Invoke element from the payoad. This way correct messages go on the wire (both in &amp;amp; out). However, when processing the response message,  I get the following NPE:&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
        at org.apache.cxf.binding.soap.interceptor.RPCInInterceptor.handleMessage(RPCInInterceptor.java:166)&lt;br/&gt;
        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:236)&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:641)&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl$1$1.run(ClientImpl.java:722)&lt;br/&gt;
        at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)&lt;br/&gt;
        at org.apache.cxf.endpoint.ClientImpl$1.onMessage(ClientImpl.java:720)&lt;br/&gt;
        at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:2134)&lt;br/&gt;
        at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream$1.run(HTTPConduit.java:2018)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:595)&lt;/p&gt;

&lt;p&gt;Debbuging shows that&apos;s because part.getConcreteName() is null.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12408259">CXF-1907</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>113633</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0v1w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>179280</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>