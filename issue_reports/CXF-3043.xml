<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat May 27 09:45:54 UTC 2023

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CXF-3043] CXF does not handle security processing on application-level Fault responses</title>
                <link>https://issues.apache.org/jira/browse/CXF-3043</link>
                <project id="12310511" key="CXF">CXF</project>
                    <description>&lt;p&gt;CXF ignores WS-Security policy configuration for application-level Fault responses (tested with both 2.2.10 and the 2.3 nightly). Here&apos;s a WSDL sample illustrating the problem:&lt;br/&gt;
&amp;lt;wsdl:definitions targetNamespace=&quot;http://ws.sosnoski.com/library/wsdl&quot;&lt;br/&gt;
xmlns:wns=&quot;http://ws.sosnoski.com/library/wsdl&quot;&lt;br/&gt;
xmlns:tns=&quot;http://ws.sosnoski.com/library/types&quot;&lt;br/&gt;
xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;&lt;br/&gt;
xmlns:wsdlsoap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;!-- Policy for Username Token with hashed password, sent from client to server only --&amp;gt;&lt;br/&gt;
&amp;lt;wsp:Policy wsu:Id=&quot;UsernameToken&quot; xmlns:wsu=&lt;br/&gt;
&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&lt;br/&gt;
xmlns:wsp=&quot;http://www.w3.org/ns/ws-policy&quot;&lt;br/&gt;
xmlns:sp=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702&quot;&amp;gt;&lt;br/&gt;
&amp;lt;sp:SupportingTokens&amp;gt;&lt;br/&gt;
&amp;lt;wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;sp:UsernameToken sp:IncludeToken=&lt;br/&gt;
&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient&quot;&amp;gt;&lt;br/&gt;
&amp;lt;wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;sp:HashPassword/&amp;gt;&lt;br/&gt;
&amp;lt;/wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;/sp:UsernameToken&amp;gt;&lt;br/&gt;
&amp;lt;/wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;/sp:SupportingTokens&amp;gt;&lt;br/&gt;
&amp;lt;/wsp:Policy&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;!-- Policy for symmetric binding, using an ephemeral key generated by the client and&lt;br/&gt;
sent to the server as part of the request, using asymmetric encryption with the server&lt;br/&gt;
public key to secure the symmetric key. --&amp;gt;&lt;br/&gt;
&amp;lt;wsp:Policy wsu:Id=&quot;SymmEncr&quot;&lt;br/&gt;
xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot;&lt;br/&gt;
xmlns:wsaw=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot;&lt;br/&gt;
xmlns:sp=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702&quot;&amp;gt;&lt;br/&gt;
&amp;lt;sp:SymmetricBinding&amp;gt;&lt;br/&gt;
&amp;lt;wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;sp:ProtectionToken&amp;gt;&lt;br/&gt;
&amp;lt;wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;sp:X509Token sp:IncludeToken=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/Never&quot;&amp;gt;&lt;br/&gt;
&amp;lt;wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;sp:RequireDerivedKeys/&amp;gt;&lt;br/&gt;
&amp;lt;sp:RequireThumbprintReference/&amp;gt;&lt;br/&gt;
&amp;lt;sp:WssX509V3Token10/&amp;gt;&lt;br/&gt;
&amp;lt;/wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;/sp:X509Token&amp;gt;&lt;br/&gt;
&amp;lt;/wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;/sp:ProtectionToken&amp;gt;&lt;br/&gt;
&amp;lt;sp:AlgorithmSuite&amp;gt;&lt;br/&gt;
&amp;lt;wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;sp:Basic128Rsa15/&amp;gt;&lt;br/&gt;
&amp;lt;/wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;/sp:AlgorithmSuite&amp;gt;&lt;br/&gt;
&amp;lt;sp:OnlySignEntireHeadersAndBody/&amp;gt;&lt;br/&gt;
&amp;lt;/wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;/sp:SymmetricBinding&amp;gt;&lt;br/&gt;
&amp;lt;sp:Wss11&amp;gt;&lt;br/&gt;
&amp;lt;wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;sp:MustSupportRefKeyIdentifier/&amp;gt;&lt;br/&gt;
&amp;lt;sp:MustSupportRefThumbprint/&amp;gt;&lt;br/&gt;
&amp;lt;sp:MustSupportRefEncryptedKey/&amp;gt;&lt;br/&gt;
&amp;lt;/wsp:Policy&amp;gt;&lt;br/&gt;
&amp;lt;/sp:Wss11&amp;gt;&lt;br/&gt;
&amp;lt;/wsp:Policy&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;!-- Policy for encrypting the message body. --&amp;gt;&lt;br/&gt;
&amp;lt;wsp:Policy wsu:Id=&quot;EncrBody&quot; xmlns:wsu=&lt;br/&gt;
&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&lt;br/&gt;
xmlns:wsp=&quot;http://www.w3.org/ns/ws-policy&quot;&lt;br/&gt;
xmlns:sp=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702&quot;&amp;gt;&lt;br/&gt;
&amp;lt;sp:EncryptedParts&amp;gt;&lt;br/&gt;
&amp;lt;sp:Body/&amp;gt;&lt;br/&gt;
&amp;lt;/sp:EncryptedParts&amp;gt;&lt;br/&gt;
&amp;lt;/wsp:Policy&amp;gt;&lt;br/&gt;
...&lt;br/&gt;
&amp;lt;wsdl:binding name=&quot;LibrarySoapBinding&quot; type=&quot;wns:Library&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;wsp:PolicyReference xmlns:wsp=&quot;http://www.w3.org/ns/ws-policy&quot; URI=&quot;#UsernameToken&quot;/&amp;gt;&lt;br/&gt;
...&lt;br/&gt;
&amp;lt;wsdl:operation name=&quot;addBook&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;wsp:PolicyReference xmlns:wsp=&quot;http://www.w3.org/ns/ws-policy&quot; URI=&quot;#SymmEncr&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;wsdlsoap:operation soapAction=&quot;urn:addBook&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;wsdl:input name=&quot;addBookRequest&quot;&amp;gt;&lt;br/&gt;
&amp;lt;wsp:PolicyReference xmlns:wsp=&quot;http://www.w3.org/ns/ws-policy&quot; URI=&quot;#EncrBody&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;wsdlsoap:body use=&quot;literal&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/wsdl:input&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;wsdl:output name=&quot;addBookResponse&quot;&amp;gt;&lt;br/&gt;
&amp;lt;wsdlsoap:body use=&quot;literal&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/wsdl:output&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;wsdl:fault name=&quot;addDuplicateFault&quot;&amp;gt;&lt;br/&gt;
&amp;lt;wsp:PolicyReference xmlns:wsp=&quot;http://www.w3.org/ns/ws-policy&quot; URI=&quot;#EncrBody&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;wsdlsoap:fault name=&quot;addDuplicateFault&quot; use=&quot;literal&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/wsdl:fault&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/wsdl:operation&amp;gt;&lt;br/&gt;
...&lt;br/&gt;
(same WSDL as for &lt;a href=&quot;https://issues.apache.org/jira/browse/CXF-3042&quot; title=&quot;SymmetricBinding used only for request causes error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CXF-3042&quot;&gt;&lt;del&gt;CXF-3042&lt;/del&gt;&lt;/a&gt; - this problem shows up if you run the client code multiple times, in which case the addBook operation always generates a Fault response).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12476651">CXF-3043</key>
            <summary>CXF does not handle security processing on application-level Fault responses</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="coheigea">Colm O hEigeartaigh</assignee>
                                    <reporter username="dsosnoski">Dennis M. Sosnoski</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Oct 2010 10:17:55 +0000</created>
                <updated>Tue, 28 Mar 2017 09:29:22 +0000</updated>
                            <resolved>Tue, 28 Mar 2017 09:29:05 +0000</resolved>
                                    <version>2.2.10</version>
                                                    <component>WS-* Components</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12918480" author="gmazza" created="Wed, 6 Oct 2010 11:48:06 +0000"  >&lt;p&gt;Are you sure this is a bug?  Is there a specification which says Fault messages are to be encrypted (Does Metro do this)?  It&apos;s normally a best practice &lt;b&gt;not&lt;/b&gt; to give sensitive information over Faults anyway, and wouldn&apos;t encrypting encourage bad design habits?  (Perhaps transport-layer encryption would be better if you wanted to do this.)&lt;/p&gt;

&lt;p&gt;But more to the point, given that problems with the WS-Security policy statements are to be reported themselves as SOAP faults (per the WS-Security specification), and that safety/security problems with the configuration could be among the errors that would engender a fault, it would seem strange to rely on the same problematic policy statements that are producing the error/exception in subsequently sending the Fault back to the client.&lt;/p&gt;


</comment>
                            <comment id="12918499" author="dkulp" created="Wed, 6 Oct 2010 13:07:23 +0000"  >&lt;p&gt;&lt;br/&gt;
This may be something that we try to enable depending on the internal fault type.   If it&apos;s an application level fault thrown form their implementation, then the fault policies should go into affect.    If it&apos;s a fault thrown from the incoming interceptors (such as a Security fault), then don&apos;t apply the policy.    Basically, if it&apos;s gotten into the application, we know the basic security requirements have been met.   &lt;/p&gt;</comment>
                            <comment id="12918711" author="dsosnoski" created="Wed, 6 Oct 2010 22:31:37 +0000"  >&lt;p&gt;I think Dan&apos;s comment represents the best practices in this area. Application faults may contain sensitive data which needs to be secured, just as other types of response from the application. I should have specified &quot;application-level&quot; faults in the title of this Jira just to make it clear that I was referring to this case.&lt;/p&gt;</comment>
                            <comment id="15944860" author="coheigea" created="Tue, 28 Mar 2017 09:29:05 +0000"  >&lt;p&gt;Securing fault messages is supported for a while now, see: &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=cxf.git;a=blob;f=systests/ws-security/src/test/java/org/apache/cxf/systest/ws/fault/FaultTest.java;h=aee2111fea06269b8488a9870b9f74672c10d51a;hb=HEAD&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=cxf.git;a=blob;f=systests/ws-security/src/test/java/org/apache/cxf/systest/ws/fault/FaultTest.java;h=aee2111fea06269b8488a9870b9f74672c10d51a;hb=HEAD&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1af7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>268930</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>